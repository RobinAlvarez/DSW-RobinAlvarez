if (self.CavalryLogger) { CavalryLogger.start_js(["aN\/5c1n"]); }

__d("SimpleNUXMessageTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:SimpleNUXMessageLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimestamp=function(a){this.$1.event_timestamp=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setNuxMessageType=function(a){this.$1.nux_message_type=a;return this};return a}();c={event:!0,event_timestamp:!0,name:!0,nux_message_type:!0};f["default"]=a}),66);
__d("FeedbackAddStreamingReactionSubscription.graphql",["FeedbackAddStreamingReactionSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},e={alias:null,args:[{kind:"Literal",name:"size__height",value:48},{kind:"Literal",name:"size__width",value:48}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(size__height:48,size__width:48)"},f={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},g={alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction_info",plural:!1,selections:[f],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},i={alias:null,args:null,concreteType:"SpatialReactionRegion",kind:"LinkedField",name:"regional_spatial_reaction_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_id",storageKey:null},{alias:null,args:null,concreteType:"RegionalSpatialReactionCount",kind:"LinkedField",name:"region_reaction_counts",plural:!0,selections:[f,h],storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};f={alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction_info",plural:!1,selections:[f,j],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedbackAddStreamingReactionSubscription",selections:[{alias:null,args:c,concreteType:"FeedbackAddStreamingReactionResponsePayload",kind:"LinkedField",name:"feedback_add_streaming_reaction_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactor",plural:!1,selections:[d,e],storageKey:null},g,{alias:null,args:null,concreteType:"StreamingReaction",kind:"LinkedField",name:"reaction_counts",plural:!0,selections:[h,g],storageKey:null},i],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedbackAddStreamingReactionSubscription",selections:[{alias:null,args:c,concreteType:"FeedbackAddStreamingReactionResponsePayload",kind:"LinkedField",name:"feedback_add_streaming_reaction_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e,j],storageKey:null},f,{alias:null,args:null,concreteType:"StreamingReaction",kind:"LinkedField",name:"reaction_counts",plural:!0,selections:[h,f],storageKey:null},i],storageKey:null}]},params:{id:b("FeedbackAddStreamingReactionSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_add_streaming_reaction_subscribe"},name:"FeedbackAddStreamingReactionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoComponentEmbeddedControlsQuery.graphql",["VideoComponentEmbeddedControlsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={kind:"InlineFragment",selections:[{alias:"permalinkUrl",args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:"canCastVideo",args:null,kind:"ScalarField",name:"can_cast_video",storageKey:null},{alias:"broadcastStatus",args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentEmbeddedControlsQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentEmbeddedControlsQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoComponentEmbeddedControlsQuery_facebookRelayOperation"),metadata:{},name:"VideoComponentEmbeddedControlsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentLiveVideoIndicatorQuery.graphql",["VideoComponentLiveVideoIndicatorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={kind:"InlineFragment",selections:[{alias:"broadcastStatus",args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveBadgeText",args:null,kind:"ScalarField",name:"live_badge_text",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rehearsal_text",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentLiveVideoIndicatorQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentLiveVideoIndicatorQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoComponentLiveVideoIndicatorQuery_facebookRelayOperation"),metadata:{},name:"VideoComponentLiveVideoIndicatorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentStreamingReactionTrayQuery.graphql",["VideoComponentStreamingReactionTrayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"userID"},c={defaultValue:null,kind:"LocalArgument",name:"videoID"},d=[{kind:"Variable",name:"id",variableName:"videoID"}],e={kind:"InlineFragment",selections:[{alias:"feedbackID",args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:"broadcastID",args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null}],type:"Video",abstractKey:null},f=[{kind:"Variable",name:"id",variableName:"userID"}],g={alias:"profilePic",args:[{kind:"Literal",name:"height",value:50},{kind:"Literal",name:"width",value:50}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:50,width:50)"},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"VideoComponentStreamingReactionTrayQuery",selections:[{alias:"video",args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e],storageKey:null},{alias:null,args:f,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"VideoComponentStreamingReactionTrayQuery",selections:[{alias:"video",args:d,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,h],storageKey:null},{alias:null,args:f,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[g,h],storageKey:null}]},params:{id:b("VideoComponentStreamingReactionTrayQuery_facebookRelayOperation"),metadata:{},name:"VideoComponentStreamingReactionTrayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentWithLiveBroadcastQuery.graphql",["VideoComponentWithLiveBroadcastQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:"broadcastStatus",args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentWithLiveBroadcastQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d,e],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentWithLiveBroadcastQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"InlineFragment",selections:[e],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:b("VideoComponentWithLiveBroadcastQuery_facebookRelayOperation"),metadata:{},name:"VideoComponentWithLiveBroadcastQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentContextMenuQuery.graphql",["VideoComponentContextMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={kind:"InlineFragment",selections:[{alias:"permalinkUrl",args:null,kind:"ScalarField",name:"permalink_url",storageKey:null}],type:"Video",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentContextMenuQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentContextMenuQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoComponentContextMenuQuery_facebookRelayOperation"),metadata:{},name:"VideoComponentContextMenuQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometHeroFailTrigger.react",["react","useHeroFailTrigger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.description,d=a.fail,e=c("useHeroFailTrigger")();h(function(){d&&e({description:b})},[b,d,e])}g["default"]=a}),98);
__d("FeedbackAddStreamingReactionSubscription",["BaseGraphQLSubscription","FeedbackAddStreamingReactionSubscription.graphql"],(function(a,b,c,d,e,f,g){var h;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/feedback_id_"+a};d.getQuery=function(){return h!==void 0?h:h=b("FeedbackAddStreamingReactionSubscription.graphql")};d.getQueryParameters=function(a){return{input:{feedback_id:a}}};return c}(c("BaseGraphQLSubscription"));g["default"]=a}),98);
__d("XSimpleNUXMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/nux/{msg_id}/seen/",{msg_id:{type:"Int",required:!0}})}),null);
__d("SimpleNUXMessage",["AsyncRequest","SimpleNUXMessageTypedLogger","SimpleNUXMessageTypesToShow","XSimpleNUXMessagesController"],(function(a,b,c,d,e,f,g){var h=new Set();function i(a,b){var d=c("SimpleNUXMessageTypesToShow").mapping[a];new(c("SimpleNUXMessageTypedLogger"))().setNuxMessageType(a).setName(d).setEvent(b).setEventTimestamp(Math.floor(Date.now()/1e3)).log()}function a(a){var b=!c("SimpleNUXMessageTypesToShow").mapping[a];!b&&!h.has(a)&&(i(a,"eligible"),h.add(a));return b}function b(a){delete c("SimpleNUXMessageTypesToShow").mapping[a];a=c("XSimpleNUXMessagesController").getURIBuilder().setInt("msg_id",a).getURI();new(c("AsyncRequest"))().setURI(a).send()}f.exports={logEvent:i,hasUserSeenMessage:a,markMessageSeenByUser:b}}),34);
__d("ShowWaitTimeAreasMode",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h=!!new(c("URI"))(window.location.href).getQueryData().showwaitareas;function a(){h=!1}function b(){h=!0}function d(){return h}g.disable=a;g.enable=b;g.isEnabled=d}),98);
__d("PageContentTabSuccessDialog.react",["cx","ix","Image.react","XUIDialog.react","XUIDialogBody.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return j.jsx(c("XUIDialog.react"),{width:344,shown:!0,layerHideOnBlur:!1,layerFadeOnShow:!0,children:j.jsxs(c("XUIDialogBody.react"),{className:"_--l",children:[j.jsx(c("Image.react"),{src:i("101769"),className:"_--n"}),j.jsx("div",{className:"_--o",children:this.props.successLabel})]})})};return b}(j.Component);a.propTypes={successLabel:c("prop-types").node};g["default"]=a}),98);
__d("PageContentTabLoadingDialog",["cx","LoadingMarkerArea.react","PageContentTabSuccessDialog.react","PageContentTabSuccessDialogTimer","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUISpinner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return i.jsx(c("LoadingMarkerArea.react"),{name:"PageContentTabLoadingDialog",owner:"pages_publishing",children:i.jsx(c("XUIDialog.react"),{width:300,shown:!0,layerHideOnBlur:!1,children:i.jsx(c("XUIDialogBody.react"),{className:"_5xp9",children:i.jsx(c("XUISpinner.react"),{background:"light",className:"_5xpe",size:"large"})})})})};return a}(i.Component);function a(){this._container||(this._container=document.createElement("div")),d("ReactDOM").render(i.jsx(j,{}),this._container)}function b(){if(!this._container)return;this.destroy()}function e(a,b){if(!this._container)return;d("ReactDOM").render(i.jsx(c("PageContentTabSuccessDialog.react"),{successLabel:a}),this._container);setTimeout(this.destroy.bind(this),b?b:c("PageContentTabSuccessDialogTimer").TIME_IN_MS)}function f(){d("ReactDOM").unmountComponentAtNode(this._container),this._container=null}g.show=a;g.hide=b;g.hideWithSuccessMessage=e;g.destroy=f}),98);
__d("ErrorMarker.react",["CometHeroFailTrigger.react","FBLogger","WaitTimeContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.name;a=a.children;var d=i(c("WaitTimeContext"));d=d.waitTimeAreaName;var e=(b=(b=b)!=null?b:d)!=null?b:"Unknown";j(function(){c("gkx")("678736")&&c("FBLogger")("error_marker").blameToPreviousFrame().info("ErrorMarker for: %s",e||"unknown")},[e]);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroFailTrigger.react"),{description:e,fail:!0}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("wrapIndex",["divisorSignedModulo"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("divisorSignedModulo")(a,b)}g["default"]=a}),98);
__d("SUIActionMenu.react",["cx","Link.react","Locale","RTLKeys","SUIFocusUtil","SUISubActionMenuLayer.react","SUITheme","react","withSUITheme","wrapIndex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=1,k=4;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={items:d.props.items,highlightedIndex:null,activeSubmenuIndex:null,flattenedEntries:s(d.props.items)},d.$1=null,d.$2=new Map(),d.$5=function(a){var b=d.state.flattenedEntries;b=b[a];b&&r(b.item)&&(b.item.onClick&&b.item.onClick(),d.props.onItemClick&&d.props.onItemClick())},d.$8=function(a){var b=d.state.flattenedEntries;b=b[a];b&&r(b.item)?d.$4(a):d.$4(null)},d.$9=function(a,b,c){d.$4(a,b),d.props.onSubmenuHide&&d.props.onSubmenuHide(c)},d.$10=function(a){var b=d.state,e=b.activeSubmenuIndex;b=b.highlightedIndex;var f=d.state.flattenedEntries,g=0,h=c("RTLKeys").getRight(),i=a.target instanceof HTMLAnchorElement&&a.target.href!=null;switch(a.keyCode){case c("RTLKeys").RETURN:case c("RTLKeys").SPACE:i||a.preventDefault();if(b!==null){i=f[b].item;i.type==="submenu"?d.setState({activeSubmenuIndex:b}):d.$5(b)}break;case c("RTLKeys").UP:a.preventDefault();g=-1;break;case c("RTLKeys").DOWN:a.preventDefault();g=1;break;case h:a.preventDefault();if(b!==null&&e!==b){i=f[b].item;i.type==="submenu"&&d.setState({activeSubmenuIndex:b})}break}if(g===0)return;if(!f.some(function(a){a=a.item;return r(a)}))return;h=d.state.highlightedIndex!==null?c("wrapIndex")(d.state.highlightedIndex+g,f.length):g===1?0:f.length-1;while(!r(f[h].item))h=c("wrapIndex")(h+g,f.length);d.$4(h)},b)||babelHelpers.assertThisInitialized(d)}b.getDerivedStateFromProps=function(a,b){return a.items!==b.items?{flattenedEntries:s(a.items),items:a.items}:null};var d=b.prototype;d.componentDidMount=function(){var a=this;(this.props.focusFirstElementOnMount||this.props.focusItemOnMount)&&(this.$3(),this.$1=window.setTimeout(function(){if(a.props.focusItemOnMount==null){var b=a.state.flattenedEntries.findIndex(function(a){a=a.item;return a.type==="item"||a.type==="link"});a.$4(Math.max(b,0),!1)}else a.$4(Math.max(a.state.flattenedEntries.findIndex(function(b){b=b.item;return b===a.props.focusItemOnMount}),0),!1)},0))};d.componentWillUnmount=function(){this.$3()};d.$4=function(a,b){b===void 0&&(b=!1),this.$6(a),this.$7(a,b)};d.$6=function(a){a=a!==null?this.$2.get(a):null;a!=null&&a.focus()};d.$7=function(a,b){b=b?a:null;this.setState({highlightedIndex:a,activeSubmenuIndex:b})};d.$3=function(){this.$1&&(window.clearTimeout(this.$1),this.$1=null)};d.render=function(){var a=this,b=c("SUITheme").get(this).SUIActionMenu,d=this.state.flattenedEntries,e=d.some(function(a){return a.item.type==="submenu"}),f=d.some(function(a){return(a.item.type==="item"||a.item.type==="link"||a.item.type==="submenu")&&a.item.icon!==void 0});return i.jsx("ul",{className:"_2pi2 _6ff6",id:this.props.id,onKeyDown:this.$10,role:"menu",style:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderRadius:b.borderRadius,borderWidth:b.borderWidth,paddingLeft:b.horizontalPadding,paddingRight:b.horizontalPadding},tabIndex:"0",children:d.map(function(c,d){var g=c.item;c=c.isIndented;switch(g.type){case"item":case"link":var h={"data-testid":g["data-testid"],description:g.description,hasIconSibling:f,hasSubmenuSibling:e,icon:g.icon,index:d,isDisabled:!!g.isDisabled,isHighlighted:d===a.state.highlightedIndex,isIndented:c,label:g.label,onClick:a.$5,onMouseEnter:a.$8,ref:function(b){return b&&a.$2.set(d,b)},rightContent:g.rightContent,uniform:b};return g.type==="item"?i.createElement(l,babelHelpers["extends"]({},h,{key:d})):i.createElement(l,babelHelpers["extends"]({},h,{href:g.href,key:d,openLinkInNewTab:g.openLinkInNewTab,rel:g.rel}));case"submenu":return i.jsx(m,{behaviors:g.behaviors?g.behaviors:{},hasIconSibling:f,icon:g.icon,index:d,isDisabled:!!g.isDisabled,isHighlighted:d===a.state.highlightedIndex,isIndented:c,isSubmenuOpen:d===a.state.activeSubmenuIndex,items:g.items,label:g.label,onItemClick:a.$5,onSubmenuVisibilityChange:a.$9,onToggle:g.onToggle,position:g.position?g.position:"right",ref:function(b){return b&&a.$2.set(d,b)},uniform:b},d);case"separator":return i.jsx(p,{isIndented:c,uniform:b},d);case"group":return i.jsx(q,{hasSubmenuSibling:e,isFirstItem:d===0,label:g.label,rightContent:g.rightContent,uniform:b},d);default:break}return null})})};return b}(i.Component);a.defaultProps={focusFirstElementOnMount:!1};var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$1=i.createRef(),c.$2=function(){c.props.onClick(c.props.index)},c.$3=function(){c.props.onMouseEnter(c.props.index)},a)||babelHelpers.assertThisInitialized(c)}var e=a.prototype;e.focus=function(){var a=this.$1.current;a instanceof HTMLElement&&d("SUIFocusUtil").setFocus(a)};e.render=function(){var a=this.props,b=a.description,d=a.hasIconSibling,e=a.hasSubmenuSibling,f=a.href,g=a.icon,h=a.isDisabled,j=a.isHighlighted,k=a.isIndented,l=a.label,m=a.openLinkInNewTab,p=a.rel,q=a.rightContent;a=a.uniform;j=n({isDisabled:h,isHighlighted:j,uniform:a});var r=q!=null;r=!r&&e;e=f!=null&&f!=="";var s="_8l9y";k="_6ff7"+(k?" _6ff8":"")+(r?" _6ff9":"");r=i.jsx(o,{description:b,hasIconSibling:d,icon:g,isDisabled:h,label:l,rightContent:q,uniform:a});b={"aria-disabled":h,"data-testid":this.props["data-testid"],onClick:this.$2,onMouseEnter:this.$3,role:"menuitem",tabIndex:0};return e&&!h?i.jsx("li",{className:s,role:"presentation",children:i.jsx(c("Link.react"),babelHelpers["extends"]({},b,{className:k,href:f,linkRef:this.$1,rel:p,style:j,target:m===!0?"_blank":"_self",children:r}))}):i.jsx("li",babelHelpers["extends"]({},b,{className:s,ref:this.$1,children:i.jsx("div",{className:k,style:j,children:r})}))};return a}(i.PureComponent),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.state={itemRef:null},c.$1=function(a){c.setState({itemRef:a})},c.$2=function(){c.props.onItemClick(c.props.index)},c.$3=function(){c.props.onSubmenuVisibilityChange(c.props.index,!0)},c.$4=function(a){c.props.onSubmenuVisibilityChange(c.props.index,!1,a)},c.$5=function(){return c.state.itemRef},a)||babelHelpers.assertThisInitialized(c)}var e=a.prototype;e.componentDidUpdate=function(a){a.isSubmenuOpen!==this.props.isSubmenuOpen&&this.props.onToggle&&this.props.onToggle(this.props.isSubmenuOpen)};e.componentWillUnmount=function(){this.props.isSubmenuOpen&&this.props.onToggle&&this.props.onToggle(!1)};e.focus=function(){this.state.itemRef!==null&&d("SUIFocusUtil").setFocus(this.state.itemRef)};e.render=function(){var a=this.props,b=a.behaviors;b=b===void 0?{}:b;var e=a.isDisabled,f=a.isSubmenuOpen,g=a.items,h=a.position;h=h===void 0?"right":h;var l=a.uniform,m=a.icon;a=a.hasIconSibling;var o=d("Locale").isRTL(),p=n({isDisabled:this.props.isDisabled,isHighlighted:this.props.isHighlighted,uniform:l}),q={width:l.itemIconWidth};o=o?l.submenuIndicatorRTL:l.submenuIndicatorLTR;var r={};e&&(r.opacity=.5);return i.jsx("li",{className:"_8l9y",onClick:this.$3,onMouseEnter:this.$3,ref:this.$1,role:"menuitem",tabIndex:0,children:i.jsxs("div",{className:"_6ff7 _6ffc"+(this.props.isIndented?" _6ff8":""),style:p,children:[a?i.jsxs("div",{className:"_2pi3 _6vpg"+(l.itemIconAlignment==="center"?" _85sa":""),children:[m&&i.jsx("div",{className:"_6vph",style:q,children:m}),this.props.label]}):this.props.label,i.jsx("div",{className:"_6ffd",style:r,children:o}),e||this.$5()==null?null:i.jsx(c("SUISubActionMenuLayer.react"),{behaviors:b,getContextNode:this.$5,isVisible:f,items:g,offsetY:-1*k-j,onClose:this.$4,onItemClick:this.$2,position:h,uniform:l})]})})};return a}(i.PureComponent);function n(a){var b=a.isDisabled,c=a.isHighlighted;a=a.uniform;var d=babelHelpers["extends"]({},a.itemTypeStyle,{borderRadius:a.itemBorderRadius,color:a.itemColor,minHeight:a.itemHeight});b?(d.cursor="default",d.color=a.disabledItemColor,d.userSelect="none"):c&&(d.color=a.highlightedItemColor,d.backgroundColor=a.highlightedItemBackgroundColor);return d}var o=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){var a=this.props,b=a.description,c=a.hasIconSibling,d=a.icon,e=a.isDisabled,f=a.label,g=a.rightContent;a=a.uniform;var h=g!=null,j=b!=null,k=d!=null,l=typeof a.itemIconWidth==="number",m={width:a.itemIconWidth};return i.jsxs(i.Fragment,{children:[j||c?i.jsxs("div",{className:"_2pi3 _6vpg"+(a.itemIconAlignment==="center"?" _85sa":""),children:[k||c&&l?i.jsx("div",{className:"_6vph",style:m,children:d}):null,i.jsxs("div",{children:[f,j?i.jsx("div",{style:babelHelpers["extends"]({},a.descriptionTypeStyle,e?{color:a.disabledItemColor}:{}),children:b}):null]})]}):f,h?i.jsx("span",{className:"_3-9a",children:g}):null]})};return a}(i.PureComponent),p=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return i.jsx("li",{className:"_6ffg"+(this.props.isIndented?" _6ffh":""),style:{borderColor:this.props.uniform.borderColor}})};return a}(i.PureComponent),q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){var a=this.props,b=a.rightContent;a=a.uniform;b=b!=null;b=!b&&this.props.hasSubmenuSibling;return this.props.label!=null?i.jsx("li",{className:"_8lau",children:i.jsxs("div",{className:"_6ffi"+(b?" _6ff9":""),style:babelHelpers["extends"]({},a.headerTypeStyle,{color:a.headerColor,minHeight:a.itemHeight}),children:[this.props.label,this.props.rightContent]})}):null};return a}(i.PureComponent);function r(a){return(a.type==="item"||a.type==="link"||a.type==="submenu")&&!a.isDisabled}function s(a){var b=[];a.forEach(function(c,d){switch(c.type){case"item":b.push({isIndented:!1,item:c});break;case"link":b.push({isIndented:!1,item:c});break;case"separator":b.push({isIndented:!1,item:c});break;case"submenu":b.push({isIndented:!1,item:c});break;case"group":var e=d===0;e=!e;e&&b.push({isIndented:!1,item:{type:"separator"}});b.push({isIndented:!1,item:c});c.items.forEach(function(a){b.push({isIndented:!0,item:a})});e=d===a.length-1;d=a[d+1];d=d&&(d.type==="group"||d.type==="separator");e=!e&&!d;e&&b.push({isIndented:!1,item:{type:"separator"}});break;default:c.type}});return b}b=c("withSUITheme")(a);g["default"]=b}),98);
__d("SUIContextMenuLayerBehaviors",["ContextualLayerAutoFlip","ContextualLayerHideOnScroll","LayerAutoFocus","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape"],(function(a,b,c,d,e,f,g){"use strict";a={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll"),LayerAutoFocus:c("LayerAutoFocus"),LayerFitHeightToScreen:c("LayerFitHeightToScreen"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")};b=a;g["default"]=b}),98);
__d("SUISubActionMenuLayer.react",["cssVar","ContextualLayer.react","LayerHideSources","RTLKeys","SUIActionMenu.react","SUIContextMenuLayerBehaviors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=c("RTLKeys").getLeft();a.keyCode===b&&(a.preventDefault(),d.props.onClose())},d.$2=function(a){(a===c("LayerHideSources").BLUR||a===c("LayerHideSources").ESCAPE)&&d.props.onClose(a)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){var a=this.props,b=a.behaviors;b=b===void 0?{}:b;var d=a.getContextNode,e=a.isVisible,f=a.onItemClick,g=a.offsetY;g=g===void 0?0:g;var h=a.position;h=h===void 0?"right":h;a=a.uniform;if(!e)return null;a={borderRadius:a==null?void 0:a.borderRadius,boxShadow:(e=a==null?void 0:a.boxShadow)!=null?e:"0 1px 10px rgba(0, 0, 0, 0.2)",minWidth:160};return i.jsx(c("ContextualLayer.react"),{alignment:"left",behaviors:babelHelpers["extends"]({},c("SUIContextMenuLayerBehaviors"),b),contextRef:d,includeHideSource:!0,isStrictlyControlled:!0,offsetY:g,onHide:this.props.onClose,position:h,shouldSetARIAProperties:!0,shown:!0,children:i.jsx("div",{onKeyDown:this.$1,style:a,children:i.jsx(c("SUIActionMenu.react"),{focusFirstElementOnMount:!0,items:this.props.items,onItemClick:f,onSubmenuHide:this.$2})})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("HotLiveVideoPayloadManager",["AjaxRequest","Arbiter","ThisControllerNoLongerExists"],(function(a,b,c,d,e,f,g){var h={_subscribedPayloads:{},subscribe:function(a,b,d){var e=!1;if(a in h._subscribedPayloads){var f=h._subscribedPayloads[a];++f.count;"lastPayload"in f&&b in f.lastPayload&&d(f.lastPayload[b])}else h._subscribedPayloads[a]={count:1,intervalHandle:window.setInterval(h._fetchPayload.bind(h,a),3e3)},e=!0;f=c("Arbiter").subscribe("HotLiveVideoPayloadManager/"+a+"/"+b,h._onCallback.bind(h,d));e&&h._fetchPayload(a);return{arbiterToken:f,videoId:a,cancel:function(){h.unsubscribe(this)}}},unsubscribe:function(a){c("Arbiter").unsubscribe(a.arbiterToken);var b=h._subscribedPayloads[a.videoId];--b.count;b.count==0&&("intervalHandle"in b&&window.clearInterval(b.intervalHandle),delete h._subscribedPayloads[a.videoId])},_fetchPayload:function(a){var b=d("ThisControllerNoLongerExists").__DEADURI__("ejgplt6tg");b=new(c("AjaxRequest"))("GET",b);b.streamMode=!1;b.onJSON=h._onPayload.bind(h,a);b.onError=h._onError.bind(h,a);b.send()},_onPayload:function(a,b){var d=h._subscribedPayloads[a];d.lastPayload=b.json;for(var e in b.json)c("Arbiter").inform("HotLiveVideoPayloadManager/"+a+"/"+e,b.json[e])},_onError:function(a,b){if(b.status==404&&a in h._subscribedPayloads){b=h._subscribedPayloads[a];"intervalHandle"in b&&(window.clearInterval(b.intervalHandle),delete b.intervalHandle)}},_onCallback:function(a,b,c){a(c)}};a=h;g["default"]=a}),98);
__d("VideoComponentPlayButton.react",["cx","fbt","VideoComponent","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={vpc:null},d.$2=function(){c("nullthrows")(d.state.vpc).clickVideo()},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.$1=function(a){var b=this.props.syncOnPauseVisibilityWithControls!==!0||a.getOption("VideoControls","areControlsVisible");a=a.getState();if(a==="paused"&&b||a==="ready")return!0;b=this.props.alsoVisibleWhen;return!b?!1:Array.isArray(b)?b.includes(a):b===a};d.render=function(){var a=this.state.vpc;if(!a)return null;var b=a.isPlayRequestPending(),c=a.isBuffering();if(b||c)return j.jsx("i",{className:"_5l7x"});if(!this.$1(a))return null;b=i._(/*FBT_CALL*/"Reproducir v\u00eddeo"/*FBT_CALL*/);return j.jsx("i",{className:"_3htz _1jto _bsl"+(((c=this.props.isHidden)!=null?c:!1)?" hidden_elem":""),onClick:this.$2,role:"presentation",children:j.jsx("input",{"aria-label":b,type:"button",className:"_yak"})})};d.enable=function(a){this.setState({vpc:a})};d.disable=function(){};return b}(j.Component);b=d("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange","bufferingChanged","pendingPlayRequestChanged","VideoControls/visibilityUpdate"]});g["default"]=b}),98);
__d("VideoComponentEmbeddedControls.react",["cx","PlaybackSpeedExperiments","ReactDOM","VideoBroadcastStatus","VideoComponent","VideoComponentEmbeddedControlsQuery.graphql","VideoControls","VideoPlayerExperiments","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.playerControlsRef=j.createRef(),b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this.embeddedControls,e=this.props,f=e.video,g=e.adBreaks,h=e.instreamAdBreakObjs,i=e.isCommentAttachment,j=e.useTwoRows,k=e.showEligibleStarsCueTimeSegments;e=e.selectedStarsCueTimestamp;var l=this.props,m=l.displayDurationLimit;l=l.displayTimeOffset;b&&(a.isCommentAttachment!==i||a.useTwoRows!==j)&&b.updateTwoRowsConfig({isCommentAttachment:i,useTwoRows:j});if(b&&f&&f!==a.video){i=f.broadcastStatus===c("VideoBroadcastStatus").LIVE||f.broadcastStatus===c("VideoBroadcastStatus").PRE_LIVE||f.broadcastStatus===c("VideoBroadcastStatus").PREVIEW;j=!1;d("PlaybackSpeedExperiments").enableWwwPlaybackSpeedControl()&&(j=i?this.props.isLiveRewindEnabled:!0);b.updateConfig_DEPRECATED({adBreaks:h||null,permalinkURL:this.props.showPermalink?f.permalinkUrl:null,showButtons:{casting:f.canCastVideo&&c("VideoPlayerExperiments").chromecast},isLive:i,showPlaybackRateControl:j,useLargerGradient:i&&this.props.isLiveRewindEnabled})}b&&g&&g!==a.adBreaks&&b.updateAdBreaksConfig({insertedAdBreaks:g.insertedAdBreaks,isAdBreakDisabled:g.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:g.isAdBreakInsertionWithoutGapRule,isPreviewingAdBreak:g.isPreviewingAdBreak});b&&k==!0&&b.updateStarsCueConfig({selectedStarsCueTimestamp:e});b&&(m!=a.displayDurationLimit||l!=a.displayTimeOffset)&&b.updateDisplayTimeRangeConfig({displayDurationLimit:m,displayTimeOffset:l})};e.render=function(){return j.jsx("div",{ref:this.playerControlsRef,className:c("joinClasses")(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":"")+(this.props.isCommercialBreak?" _167h":"")+" _170l _27db"+(this.props.adBreaks&&this.props.adBreaks.isPreviewingAdBreak?" _1ny5":""))})};e.disable=function(){this.embeddedControls&&(this.embeddedControls.unregister(),this.embeddedControls=null)};e.enable=function(a){var b=d("ReactDOM").findDOMNode(this.playerControlsRef.current);if(b==null||!(b instanceof HTMLElement))return;this.embeddedControls=new(c("VideoControls"))(a,b,{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay,pause:this.props.hideControlsOnPause},isCommentAttachment:this.props.isCommentAttachment,unhideOnHover:this.props.unhideControlsOnHover,showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hidePlaybackScrubber:this.props.hidePlaybackScrubber,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,isLiveRewindEnabled:this.props.isLiveRewindEnabled,showQualitySelector:this.props.showQualitySelector,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayDurationLimit:this.props.displayDurationLimit,displayTimeOffset:this.props.displayTimeOffset,selectedStarsCueTimestamp:this.props.selectedStarsCueTimestamp,showEligibleStarsCueTimeSegments:this.props.showEligibleStarsCueTimeSegments,showPlaybackRateControl:this.props.showPlaybackRateControl,showVideoSliderWarningTooltip:this.props.showVideoSliderWarningTooltip,useTwoRows:this.props.useTwoRows,gamesVideoCreatorClippingGK:this.props.gamesVideoCreatorClippingGK,gamesDefaultClipLengthInSec:this.props.gamesDefaultClipLengthInSec,useLargerGradient:!1,forceVisibleOnMount:this.props.forceVisibleOnMount,forceVisible:this.props.forceVisible})};return b}(j.PureComponent);a.defaultProps={showSettingsButton:!0,hideControlsOnFinish:!1,hideControlsOnAutoplay:!1,hideControlsOnPause:!1,isCommentAttachment:!0,unhideControlsOnHover:!1,showFullscreenButton:!0,showWatchAndScrollButton:!1,shouldRenderControls:!0,showPermalink:!1,detachable:!1,redesign:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,isCommercialBreak:!1,showQualitySelector:!0,displayElapsedTime:!1,displayMilliseconds:!1,displayDurationLimit:null,displayTimeOffset:null,showPlaybackRateControl:!1,showVideoSliderWarningTooltip:!1,useTwoRows:!1,gamesVideoCreatorClippingGK:!1,gamesDefaultClipLengthInSec:60,isLiveRewindEnabled:!1,forceVisibleOnMount:!1,forceVisible:!1};e=d("VideoComponent").createContainer(a,{videoGraphQLQuery:i!==void 0?i:i=b("VideoComponentEmbeddedControlsQuery.graphql")});g["default"]=e}),98);
__d("VideoConcurrentViewerCount.react",["cx","fbt","ix","Image.react","Tooltip","intlSummarizeNumber","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.$1=function(){if(this.props.isAudio)return j("466773");else return j("406916")};d.render=function(){var a=this.props.viewerCount;if(!a)return k.jsx("div",{className:"_1jb_ _2z59"});var b=null;this.props.compact||(b=k.jsx(c("Image.react"),{className:"_5pf2",src:this.$1()}));var d=this.props.pageCount!=null&&this.props.pageCount>1?c("Tooltip").propsFor(i._(/*FBT_CALL*/{"*":"N\u00famero total de espectadores actuales en esta p\u00e1gina y {number} m\u00e1s","_1":"N\u00famero total de espectadores actuales en esta p\u00e1gina y una m\u00e1s"}/*FBT_CALL*/,[i._plural(this.props.pageCount-1,"number")]),"right"):{};return k.jsxs("div",babelHelpers["extends"]({className:this.props.style==null?"_1jb_"+(this.props.compact?" _3eca":""):c("stylex")(this.props.style),"data-testid":void 0},d,{children:[b,c("intlSummarizeNumber")(a)]}))};return b}(k.Component);g["default"]=a}),98);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","VideoConcurrentViewerCount.react","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");c("stylex").inject(".i8dhgihx{background-color:rgba(0,0,0,.5)}",1);c("stylex").inject(".dl2p71xr{border-top-left-radius:4px}",1,".dl2p71xr{border-top-right-radius:4px}");c("stylex").inject(".h0c7ht3v{border-top-right-radius:4px}",1,".h0c7ht3v{border-top-left-radius:4px}");c("stylex").inject(".j8nb7h05{border-bottom-right-radius:4px}",1,".j8nb7h05{border-bottom-left-radius:4px}");c("stylex").inject(".gffp4m6x{border-bottom-left-radius:4px}",1,".gffp4m6x{border-bottom-right-radius:4px}");c("stylex").inject(".t0qzo8p7{color:#fff}",1);c("stylex").inject(".b6ax4al1{display:block}",1);c("stylex").inject(".c61n2bf6{font-size:0.875rem}",1);c("stylex").inject(".ihx95mk1{margin-top:12px}",1);c("stylex").inject(".j1v7989l{opacity:.99}",1);c("stylex").inject(".srn514ro{padding-top:0}",1);c("stylex").inject(".i5oewl5a{padding-right:6px}",1,".i5oewl5a{padding-left:6px}");c("stylex").inject(".rl78xhln{padding-bottom:0}",1);c("stylex").inject(".nnzkd6d7{padding-left:6px}",1,".nnzkd6d7{padding-right:6px}");var k={titleCVCIndicator:{backgroundColor:"i8dhgihx",borderTopStartRadius:"dl2p71xr",borderTopEndRadius:"h0c7ht3v",borderBottomEndRadius:"j8nb7h05",borderBottomStartRadius:"gffp4m6x",color:"t0qzo8p7",display:"b6ax4al1",fontSize:"c61n2bf6",marginTop:"ihx95mk1",opacity:"j1v7989l",paddingTop:"srn514ro",paddingEnd:"i5oewl5a",paddingBottom:"rl78xhln",paddingStart:"nnzkd6d7"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){if(this.props.isPreview)return this.$1();var a=this.$2();a=this.$3(a);return j.jsxs("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":""),children:[a,j.jsx(c("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount,style:k.titleCVCIndicator})]})};e.$3=function(a){var b=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?j.jsx("span",{className:"_2nwf",children:j.jsx(c("Duration.react"),{startTime:this.props.startTime*d("DateConsts").MS_PER_SEC,useLocalTime:!0})}):null,e,f;this.props.inBeeper?(e="_60yg",f="_60yf"):this.props.isRewound?(e="_1dvf",f="_1dvg"):(e="_5pe-"+(this.props.isRehearsal?" _1dvf":""),f="_2wrk"+(this.props.isRehearsal?" _7bca":""));return a?j.jsx("div",{className:e,"data-testid":void 0,children:j.jsxs("span",{className:f,children:[a,b]})}):null};e.$2=function(){if(this.props.isBreakingNews)return i._(/*FBT_CALL*/"\u00daLTIMA HORA EN DIRECTO"/*FBT_CALL*/);if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?i._(/*FBT_CALL*/"ESTRENO"/*FBT_CALL*/):this.props.isLive?i._(/*FBT_CALL*/"DIRECTO"/*FBT_CALL*/):null};e.$1=function(){return j.jsx("div",{className:"_5vj",children:j.jsx("div",{className:"_5vm",children:j.jsx("span",{className:"_5vo",children:i._(/*FBT_CALL*/"VISTA PREVIA"/*FBT_CALL*/)})})})};return b}(j.PureComponent);g["default"]=a}),98);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"};f.ACTIONS=a}),66);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){switch(b.type){case d("LiveVideoPlayerConstants").ACTIONS.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case d("LiveVideoPlayerConstants").ACTIONS.SET_IS_REWOUND:var e=b.vpc,f=b.isRewound;a=a.setIn([e.getVideoPlayerID(),"isRewound"],f);setTimeout(function(){return c.$LiveVideoPlayerStore1(e,f)},0);e.setIsLiveRewindActive(f);break;default:break}return a},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.getInitialState=function(){return c("immutable").Map({})};e.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};e.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};e.$LiveVideoPlayerStore1=function(a,b){var c=this;a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return c.getIsRewound(a.getVideoPlayerID())});a.emit("LivePlayer/isRewoundChanged")};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("LiveVideoPlayerDispatcher"));g["default"]=b}),98);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(d,a);d.getStores=function(){return[c("LiveVideoPlayerStore")]};d.calculateState=function(a,b){a=c("LiveVideoPlayerStore").getIsRewound(b.playerID);return{isRewound:a}};function d(d){d=a.call(this,d)||this;c("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")]);return d}var e=d.prototype;e.render=function(){return h.jsx(c("LiveVideoIndicator.react"),{inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};return d}(h.Component);e=c("FluxContainer").create(a,{withProps:!0});g["default"]=e}),98);
__d("VideoComponentLiveVideoIndicator.react",["FBJSON","LiveVideoIndicatorContainer.react","SubscriptionsHandler","VideoBroadcastStatus","VideoComponent","VideoComponentLiveVideoIndicatorQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.subscriptions=new(c("SubscriptionsHandler"))(),d.vpc=null,d.state={pageCount:null,showLiveIndicator:!0,viewerCount:null},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.enable=function(a){var b=this;this.vpc=a;this.subscriptions.addSubscriptions(a.addListener("VideoWithLiveBroadcast/viewCountChange",function(a){a=a.getAttribute("data-store");var c=a?d("FBJSON").parse(a).viewerCount:null;a=a?Number(d("FBJSON").parse(a).pageCount):null;b.setState({viewerCount:c,pageCount:a})}),a.addListener("finishPlayback",function(){return b.setState({showLiveIndicator:!1})}),a.addListener("commercialBreak/hideUFI",function(){return b.setState({showLiveIndicator:!1})}),a.addListener("commercialBreak/showUFI",function(){return b.setState({showLiveIndicator:!0})}),a.addListener("unifiedCVC/update",function(a){a.pc!=null?b.setState({viewerCount:a.c,pageCount:a.pc}):b.setState({viewerCount:a.c})}))};e.disable=function(){};e.render=function(){if(!this.props.video||!this.state.showLiveIndicator||!this.vpc||this.vpc.isStreamInterrupted())return null;var a=this.props.video,b=a.liveBadgeText,d=a.broadcastStatus,e=a.breakingStatus;a=a.isPremiere;var f=d===c("VideoBroadcastStatus").LIVE||this.props.isLive;d=!f&&(d===c("VideoBroadcastStatus").PREVIEW||d===c("VideoBroadcastStatus").SCHEDULED_PREVIEW);var g=f?this.state.viewerCount:0,h=f?this.state.pageCount:0;return i.jsx(c("LiveVideoIndicatorContainer.react"),{inBeeper:Boolean(this.props.inBeeper),inline:Boolean(this.props.inline),isAudio:!!this.vpc&&this.vpc.isFacecastAudio(),isBreakingNews:e,isLive:Boolean(f),isPremiere:a,isPreview:d,isRehearsal:((e=this.props.video)==null?void 0:e.rehearsalInfo)!=null,pageCount:h,playerID:this.vpc?this.vpc.getVideoPlayerID():"",showElapsedTime:!1,startTime:null,textOverride:b,viewerCount:g})};e.componentWillUnmount=function(){this.subscriptions.release()};return b}(i.Component);e=d("VideoComponent").createContainer(a,{videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentLiveVideoIndicatorQuery.graphql")});g["default"]=e}),98);
__d("StreamingReactionsTrayEvents",[],(function(a,b,c,d,e,f){a="streamingReactionsTray/AddReactionAnimate";b="streamingReactionsTray/HideChannelViewDetails";c="streamingReactionsTray/ShowChannelViewDetails";d="streamingReactionsTray/UpdateSurface";e="streamingReactionsTray/ResizeChannelViewWindow";var g="streamingReactionsTray/ReactionStateChange",h="streamingReactionsTray/FireworksAnimating",i="streamingReactionsTray/DisableReactions",j="streamingReactionsTray/EnableReactions";f.AddReactionAnimate=a;f.HideChannelViewDetails=b;f.ShowChannelViewDetails=c;f.UpdateSurface=d;f.ResizeChannelViewWindow=e;f.ReactionStateChange=g;f.FireworksAnimating=h;f.DisableReactions=i;f.EnableReactions=j}),66);
__d("StreamingReaction",["cx","CSS","DOM","EventEmitter","FeedbackReactionType","Random","ReactionIconFilepaths","StreamingReactionsTrayEvents","Style","UFIReactionsAnimatedKeyframesIcon.react","cr:1557188","cr:1557189","cr:1634252","getVendorPrefixedName","queryThenMutateDOM","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=c("getVendorPrefixedName")("transform"),k=-30,l=90,m=50;a=function(a){babelHelpers.inheritsLoose(e,a);e.getReaction=function(a,b,c,d){d===void 0&&(d="");var f=a?e.friendElementQueue:e.anonElementQueue;if(f.length>0){f=f.shift();f.removeSpecificData();f.addSpecificData(b,d);return f}else return new e(a,b,c,d)};e.clearQueue=function(){e.anonElementQueue.length=0,e.friendElementQueue.length=0};function e(b,d,e,f){var g;f===void 0&&(f="");g=a.call(this)||this;g.$StreamingReaction1=e;g.setState("CONSTRUCTED");g.isFriend=b;g.type=d;g.profilePicUri=f;g.start=-1;g.randVerticalStartPositionAnon=g.$StreamingReaction6();g.randHorizontalStartPositionAnon=g.$StreamingReaction7();g.randShootUpHorizontalPosition=g.$StreamingReaction8();g.randShootUpMaxVerticalPosition=g.$StreamingReaction9();g.randAmp=g.$StreamingReaction10();g.randTimeOffsetMs=g.$StreamingReaction11();g.period=g.$StreamingReaction12(g.isFriend,g.randShootUpHorizontalPosition);g.anonWindDurationMs=g.$StreamingReaction1.anonWindDurationMs+g.randTimeOffsetMs;g.maxAnonWindDurationMs=g.$StreamingReaction1.anonWindDurationMs+g.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;g.shootUpDurationMs=g.$StreamingReaction1.durationsMs.SHOOT_UP;g.explosionDurationMs=g.$StreamingReaction1.durationsMs.EXPLOSION;g.explosionPauseDurationMs=g.$StreamingReaction1.durationsMs.EXPLOSION_PAUSE;g.morphShrinkDurationMs=g.$StreamingReaction1.durationsMs.MORPH/4;g.morphGrowDurationMs=g.$StreamingReaction1.durationsMs.MORPH/6;g.morphPauseDurationMs=g.$StreamingReaction1.durationsMs.MORPH_PAUSE;g.friendWindKeyDurationMs=g.$StreamingReaction1.friendWindDurationMs;g.shootUpVerticalPositionOffset=65;c("queryThenMutateDOM")(function(){},g.createElem.bind(babelHelpers.assertThisInitialized(g)));return g}var f=e.prototype;f.createElem=function(){this.yAxisDiv=c("DOM").create("div");this.xAxisDiv=c("DOM").create("div");this.reactionElem=c("DOM").create("div");c("DOM").appendContent(this.xAxisDiv,this.reactionElem);c("DOM").appendContent(this.yAxisDiv,this.xAxisDiv);this.root=this.yAxisDiv;d("CSS").addClass(this.yAxisDiv,"_g19");d("CSS").addClass(this.xAxisDiv,"_g19");this.createReactionImage();var a,b,e;if(this.isFriend){this.$StreamingReaction13();this.setFireworksColors();this.root=c("DOM").create("div");c("DOM").appendContent(this.root,this.fireworks);c("DOM").appendContent(this.root,this.yAxisDiv);a=this.randShootUpHorizontalPosition;b=this.$StreamingReaction1.minY+k;e=this.$StreamingReaction1.minMorphScale;var f=this.$StreamingReaction1.shootUpScale;this.createFriendImage();c("Style").set(this.friendImg,j,"scale("+f+")")}else a=this.randHorizontalStartPositionAnon,b=this.$StreamingReaction1.minY,e=this.$StreamingReaction1.globalScale;c("Style").set(this.reactionElem,j,"scale("+e+")");c("Style").set(this.yAxisDiv,"right",a+"px");c("Style").set(this.yAxisDiv,"bottom",b+"px");this.setState("RENDERED")};f.setAnimationX=function(a){this.$StreamingReaction3=a};f.setAnimationY=function(a){this.$StreamingReaction4=a};f.setAnimationScale=function(a){this.$StreamingReaction5=a};f.getAnimationX=function(){return this.$StreamingReaction3};f.getAnimationY=function(){return this.$StreamingReaction4};f.getAnimationScale=function(){return this.$StreamingReaction5};f.createFriendImage=function(){this.friendImg=c("DOM").create("img"),c("DOM").setAttributes(this.friendImg,{src:this.profilePicUri}),c("DOM").appendContent(this.xAxisDiv,this.friendImg),c("Style").set(this.friendImg,j,"scale("+this.$StreamingReaction1.shootUpScale+")"),c("Style").set(this.reactionElem,"opacity","0"),d("CSS").addClass(this.friendImg,"_2-ai")};f.setFriendImage=function(a){this.profilePicUri=a,c("DOM").setAttributes(this.friendImg,{src:this.profilePicUri})};f.createReactionImage=function(){d("CSS").addClass(this.reactionElem,"_g19");if(this.isFriend){var a=i.jsx(c("UFIReactionsAnimatedKeyframesIcon.react"),{animate:!0,className:"_8382",maxSize:48,reactionID:c("FeedbackReactionType")[this.type],selectedIndex:0});if(b("cr:1557188")!==null)b("cr:1557188").render(a,this.reactionElem);else if(b("cr:1557189")!==null){var e=b("cr:1557189").createRoot(this.reactionElem,{unstable_concurrentUpdatesByDefault:!0,unstable_strictMode:!0});b("cr:1557189").flushSync(function(){e.render(a)})}else throw c("unrecoverableViolation")("could not mount reaction","work_comet_core")}else{this.reactionImage=c("DOM").create("img");var f=this.getReactionImageSrc(this.type);if(b("cr:1634252")!=null&&(f==null||f==="")){var g;f=(g=b("cr:1634252")(c("FeedbackReactionType")[this.type]))!=null?g:f}c("DOM").setAttributes(this.reactionImage,{src:f});c("DOM").appendContent(this.reactionElem,this.reactionImage)}};f.setState=function(a){var b=this.getState();this.$StreamingReaction2=a;if(b!=="FINISHED"&&a==="FINISHED"){b=this.isFriend?e.friendElementQueue:e.anonElementQueue;b.push(this);this.$StreamingReaction2="RENDERED"}this.emit(d("StreamingReactionsTrayEvents").ReactionStateChange,this.getState())};f.getState=function(){return this.$StreamingReaction2};f.addSpecificData=function(a,b){this.type=a,this.profilePicUri=b,this.createReactionImage(),this.isFriend&&(this.setFireworksColors(),this.setFriendImage(b))};f.removeSpecificData=function(){this.removeReactionImage(),this.isFriend&&this.removeFireworksStyle()};f.removeReactionImage=function(){this.reactionImage&&c("DOM").remove(this.reactionImage)};f.removeFireworksStyle=function(){for(var a=0;a<this.fireworks.length;a++)d("CSS").removeClass(this.fireworks[a],this.getReactionFireworksClass(this.type,a))};f.$StreamingReaction13=function(){var a=[];for(var b=0,e;b<10;b++){e=c("DOM").create("div");d("CSS").addClass(e,"_3na5");c("Style").set(e,"right",this.randShootUpHorizontalPosition+22+"px");c("Style").set(e,"bottom",this.randShootUpMaxVerticalPosition-this.shootUpVerticalPositionOffset+"px");switch(b){case 1:d("CSS").addClass(e,"_3nab");break;case 2:d("CSS").addClass(e,"_3nad");break;case 3:d("CSS").addClass(e,"_3nae");break;case 4:d("CSS").addClass(e,"_3naf");break;case 5:d("CSS").addClass(e,"_3nag");break;case 6:d("CSS").addClass(e,"_3nah");break;case 7:d("CSS").addClass(e,"_3nak");break;case 8:d("CSS").addClass(e,"_3nam");break;case 9:d("CSS").addClass(e,"_3nan");break;default:break}a.push(e)}this.fireworks=a};f.setFireworksColors=function(){for(var a=0;a<this.fireworks.length;a++)d("CSS").addClass(this.fireworks[a],this.getReactionFireworksClass(this.type,a))};f.getReactionImageSrc=function(a){switch(a){case"LIKE":return c("ReactionIconFilepaths").paths.size48.like;case"HAHA":return c("ReactionIconFilepaths").paths.size48.haha;case"WOW":return c("ReactionIconFilepaths").paths.size48.wow;case"LOVE":return c("ReactionIconFilepaths").paths.size48.love;case"ANGER":return c("ReactionIconFilepaths").paths.size48.anger;case"SORRY":return c("ReactionIconFilepaths").paths.size48.sorry;case"DOROTHY":return c("ReactionIconFilepaths").paths.size48.dorothy;case"SUPPORT":return c("ReactionIconFilepaths").paths.size48.support;default:throw new Error("Not a valid reaction type: "+a)}};f.getReactionFireworksClass=function(a,b){a=b%2===0;if(a)if(this.type==="LIKE")return"_3na6";else if(this.type==="LOVE")return"_3na8";else if(this.type==="DOROTHY")return"_1l5u";else return"_3na9";else return"_3naa"};f.$StreamingReaction11=function(){var a=this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;return-1*a+d("Random").random()*a*2};f.$StreamingReaction10=function(){var a=d("Random").random()>.5;return(a?1:-1)*(d("Random").random()*(1-.6)+.6)};f.$StreamingReaction12=function(a,b){a=a?this.$StreamingReaction1.maxX-b:this.$StreamingReaction1.maxX;return a};f.$StreamingReaction6=function(){var a=(this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY)/2;return~~(d("Random").random()*a)};f.$StreamingReaction7=function(){var a=(this.$StreamingReaction1.maxX-this.$StreamingReaction1.minX)/2;return~~(d("Random").random()*a)};f.$StreamingReaction8=function(){return d("Random").random()*(this.$StreamingReaction1.maxX/3)};f.$StreamingReaction9=function(){var a=this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY;a=d("Random").random()*l+.25*a+m;return a};return e}(c("EventEmitter"));a.anonElementQueue=[];a.friendElementQueue=[];g["default"]=a}),98);
__d("StreamingReactionsTrayAnimation",["DOM","StreamingReaction","StreamingReactionsTrayEvents"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.root=a,this.config=b,this.animating=!1,this.reactions=new Set()}var b=a.prototype;b.addReaction=function(a,b,e){var f=this;e===void 0&&(e="");if(this.animating){var g=c("StreamingReaction").getReaction(a,b,this.config,e);this.reactions.add(g);g.getState()==="RENDERED"?this.buildAnimation(g):g.once(d("StreamingReactionsTrayEvents").ReactionStateChange,function(a){a==="RENDERED"&&f.buildAnimation(g)})}};b.start=function(){this.animating=!0};b.stop=function(){this.animating=!1;c("StreamingReaction").clearQueue();for(var a=this.reactions,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.getState()!=="CONSTRUCTED"&&c("DOM").remove(e.root)}this.reactions.clear()};b.clearCurrent=function(){c("StreamingReaction").clearQueue();for(var a=this.reactions,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.getState()!=="CONSTRUCTED"&&c("DOM").remove(e.root)}this.reactions.clear()};b.setOnFinishHandler=function(a){this.onFinishHandler=a};b.buildAnimation=function(a){throw new Error("Function not implemented")};b.createOnFinishForReaction=function(a){var b=this;return function(c){b.onFinish(a,c)}};b.onFinish=function(a,b){this.onFinishHandler&&this.onFinishHandler(),a.getState()!=="FINISHED"&&a.setState("FINISHED")};return a}();g["default"]=a}),98);
__d("StreamingReactionsTrayAnonymousAnimation",["CSSAnimationBuilder","DOM","StreamingReactionsTrayAnimation"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var e=b.prototype;e.addAnonReaction=function(b){a.prototype.addReaction.call(this,!1,b)};e.buildAnimation=function(a){if(!a.getAnimationY()){var b=a.anonWindDurationMs/1e3,e=a.maxAnonWindDurationMs/1e3,f=this.$StreamingReactionsTrayAnonymousAnimation1(a),g=this.$StreamingReactionsTrayAnonymousAnimation2(a);f=Math.round(f*100)/100;g=Math.round(g*100)/100;var h=d("CSSAnimationBuilder").keyframeAnimation(a.yAxisDiv),i=d("CSSAnimationBuilder").keyframeAnimation(a.xAxisDiv),j=d("CSSAnimationBuilder").keyframeAnimation(a.reactionElem);this.$StreamingReactionsTrayAnonymousAnimation3(i,f,b,e);this.$StreamingReactionsTrayAnonymousAnimation4(h,g,b,e,a);this.$StreamingReactionsTrayAnonymousAnimation5(j,b,e);a.setAnimationX(i);a.setAnimationY(h);a.setAnimationScale(j);this.animating&&c("DOM").appendContent(this.root,a.root)}this.animating&&(a.setState("ANIMATING"),a.getAnimationX().start(),a.getAnimationY().start(),a.getAnimationScale().start())};e.$StreamingReactionsTrayAnonymousAnimation1=function(a){return a.randAmp*this.config.horizontalAnimationRange};e.$StreamingReactionsTrayAnonymousAnimation2=function(a){return-1*(this.config.maxY-this.config.minY)};e.$StreamingReactionsTrayAnonymousAnimation4=function(a,b,c,d,e){a.defineKeyframes({"0%":{transform:"translateY("+0+"px)"},"100%":{transform:"translateY("+b+"px)"}}),a.setDuration(c),a.setIterationCount(1).setMemoize(!1).setFinishedCallback(this.createOnFinishForReaction(e))};e.$StreamingReactionsTrayAnonymousAnimation3=function(a,b,c,d){a.defineKeyframes({"0%":{transform:"translateX("+0+"px)","animation-timing-function":"ease-in-out"},"50%":{transform:"translateX("+b+"px)"},"100%":{transform:"translateX("+0+"px)"}}),a.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(d),a.setMemoize(!1).setIterationCount(1)};e.$StreamingReactionsTrayAnonymousAnimation5=function(a,b,c){c=this.config.globalScale;a.defineKeyframes({"0%":{transform:"scale("+c+")"},"40%":{transform:"scale("+c+")",opacity:"1"},"100%":{transform:"scale("+.1+")",opacity:"0"}});a.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(b);a.setMemoize(!1).setIterationCount(1)};return b}(c("StreamingReactionsTrayAnimation"));g["default"]=a}),98);
__d("StreamingReactionsTrayConfig",["EventEmitter","StreamingReactionsAnimationConfig","StreamingReactionsTrayEvents"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){var f;f=a.call(this)||this;f.$StreamingReactionsTrayConfig1=c("StreamingReactionsAnimationConfig");f.durationsMs=f.$StreamingReactionsTrayConfig1.DURATIONS_MS;f.updateDimensions(b,d);f.$StreamingReactionsTrayConfig2(e);f.globalScale=f.$StreamingReactionsTrayConfig1.SCALES.GLOBAL*f.$StreamingReactionsTrayConfig1.SCALES.SCALE_MULTIPLIER;f.shootUpScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.SHOOT_UP;f.maxExplosionScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.MAX_EXPLOSION;f.minMorphScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.MIN_MORPH;f.scaleMultiplier=f.viewUpdateInterval=f.$StreamingReactionsTrayConfig1.THROTTLE.VIEW_UPDATE_INTERVAL;f.reactionStartAnimationRate=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_START_ANIMATION_RATE;f.reactionBufferSize=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_BUFFER_SIZE;f.maxAnonReactionsCount=f.$StreamingReactionsTrayConfig1.THROTTLE.MAX_REACTIONS_ON_SCREEN;f.reactionSelfFireworkAnimationThreshold=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_CLICK_SELF_FIREWORK_ANIMATION_THRESHOLD;f.horizontalAnimationRange=f.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HORIZONTAL_ANIMATION_RANGE;b=f.$StreamingReactionsTrayConfig1.CURVES;f.anonHorizontalCurve="cubic-bezier("+b.ANON_HORIZONTAL.join(", ")+")";f.friendWindHorizontalCurve="cubic-bezier("+b.FRIEND_WIND_HORIZONTAL.join(", ")+")";f.shootUpVerticalCurve="cubic-bezier("+b.SHOOT_UP_VERTICAL.join(", ")+")";f.morphScaleCurve="cubic-bezier("+b.MORPH_SCALE.join(", ")+")";f.explosionScaleCurve="cubic-bezier("+b.EXPLOSION_SCALE.join(", ")+")";f.friendWindScaleCurve="cubic-bezier("+b.FRIEND_WIND_SCALE.join(", ")+")";f.friendWindVacuumZoneScaleCurve="cubic-bezier("+b.FRIEND_WIND_VACUUM_ZONE_SCALE.join(", ")+")";return f}var e=b.prototype;e.updateSurface=function(a,b,c){this.updateDimensions(a,b),this.$StreamingReactionsTrayConfig2(c),this.emit(d("StreamingReactionsTrayEvents").UpdateSurface)};e.$StreamingReactionsTrayConfig2=function(a){if(a==="tahoe"){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_TAHOE;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_TAHOE;return}a==="channel"?(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_CHANNEL,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_CHANNEL):a==="snowlift"?(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_SNOWLIFT,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_SNOWLIFT):(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_INLINE,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_INLINE)};e.updateDimensions=function(a,b){a=a;b=b*this.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HEIGHT_MULTIPLIER;this.maxX=a/2;this.minX=0;this.maxY=b+this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.NEGATIVE_Y;this.reactionsOffScreenX=a+21};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("randomShuffle",["randomInt"],(function(a,b,c,d,e,f){function a(a){for(var c=a.length-1;c>0;c--){var d=b("randomInt").call(this,c+1);if(d!=c){var e=a[d];a[d]=a[c];a[c]=e}}return a}f["default"]=a}),66);
__d("StreamingReactionsTrayDiffuser",["ODS","Random","randomShuffle","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";d("ODS").setEntitySample("feedback",1e-4);a=function(){function a(a,b,c,d){this.$1=a,this.$4=b,this.$12=c,this.$11=d,this.$10=this.$11.viewUpdateInterval,this.$7={},this.$6={},this.$2=[],this.$9=0,this.$5=this.$11.maxAnonReactionsCount,this.$3=this.$11.reactionBufferSize,this.$1.setOnFinishHandler(this.$13.bind(this))}var b=a.prototype;b.clearCurrentReactions=function(){this.$1.clearCurrent(),this.$4.clearCurrent(),this.$9=0};b.startAnimation=function(){clearInterval(this.$8),this.$1.start(),this.$4.start(),this.$8=setInterval(this.$14.bind(this),this.$10)};b.stopAnimation=function(){this.$1.stop(),this.$4.stop(),this.$9=0,clearInterval(this.$8)};b.pauseAnimation=function(){clearInterval(this.$8)};b.clearBuffer=function(){this.$2=[]};b.addOwnReaction=function(a,b,c){c&&(this.$6[a]+=1),this.$15(a,b)};b.processPayload=function(a){a=a.feedback_add_streaming_reaction_subscribe;var b=a.reactor,c=a.reaction_info.reaction_type,d=b!=null&&b.is_viewer_friend;d&&this.$15(c,b.profile_picture.uri);b={};var e=0;for(var a=a.reaction_counts,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=h.reaction_info.reaction_type;h=h.count;d&&c&&h--;if(this.$7[i]){var j=this.$7[i];this.$6[i]&&(j+=this.$6[i]);j=j?Math.max(h-j,0):0;b[i]=j;e+=j}this.$7[i]=h}this.$16(b,e)};b.processVodPayload=function(a){var b={},c=0;for(var d=a.reactions,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.reaction_type,i=g.count;b[h]=i;c+=i;for(var i=g.important_reactors,g=Array.isArray(i),j=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(g){if(j>=i.length)break;k=i[j++]}else{j=i.next();if(j.done)break;k=j.value}k=k;this.$17(h,k.profile_picture_uri,a.length*1e3)}}this.clearBuffer();this.$16(b,c)};b.$16=function(a,b){var d=[],e=this.$3-this.$2.length;if(e>0){var f=b>e,g=Object.entries(a);a=function(){var a=g[h],c=a[0];a=a[1];a=f?Math.floor(a/b*e):a;d=d.concat(Array.apply(void 0,Array(a)).map(function(){return c}))};for(var h=0;h<g.length;h++)a();c("randomShuffle")(d);this.$2=this.$2.concat(d)}};b.$17=function(a,b,e){var f=this;e=Math.floor(d("Random").random()*e);c("setTimeout")(function(){return f.addOwnReaction(a,b,!1)},e)};b.$15=function(a,b){this.$4.addFriendReaction(a,b),this.$12?d("ODS").bumpEntityKey(2966,"feedback","facecast_live_friend_reaction_rendered"):d("ODS").bumpEntityKey(2966,"feedback","facecast_vod_friend_reaction_rendered")};b.$14=function(){this.$2.length>0&&this.$9<this.$5&&(this.$1.addAnonReaction(this.$2.shift()),this.$9++,this.$12?d("ODS").bumpEntityKey(2966,"feedback","facecast_live_reaction_rendered"):d("ODS").bumpEntityKey(2966,"feedback","facecast_vod_reaction_rendered"))};b.$13=function(){this.$9--};return a}();g["default"]=a}),98);
__d("StreamingReactionsTrayFriendAnimation",["Arbiter","CSSAnimationBuilder","DOM","StreamingReactionsTrayAnimation","StreamingReactionsTrayEvents","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){var h=10;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c)||this}var e=b.prototype;e.addFriendReaction=function(b,c){a.prototype.addReaction.call(this,!0,b,c)};e.buildAnimation=function(a){var b=this;this.incrementFireworksCount();var e=-1*a.randShootUpMaxVerticalPosition;e=Math.round(e*100)/100;var f=-1*(this.config.maxY-this.config.minY-a.randShootUpMaxVerticalPosition),g=this.config.globalScale,h=[a.shootUpDurationMs,a.explosionDurationMs*.15,a.explosionDurationMs*.85,a.explosionPauseDurationMs*.8,a.explosionPauseDurationMs*.2,a.morphShrinkDurationMs,a.morphGrowDurationMs,a.morphPauseDurationMs,a.friendWindKeyDurationMs*.5,a.friendWindKeyDurationMs*.3,a.friendWindKeyDurationMs*.2].map(function(a){return a/1e3}),i=h.reduce(function(a,b){return a+b}),j=h.map(function(a,b,c){c=(b>0?c[b-1]:0)+a;h[b]=c;return c}).map(function(a){return a/i*100}),k=j[0],l=j[1],m=j[2],n=j[3],o=j[4],p=j[5],q=j[6],r=j[7],s=j[8],t=j[9];j=j[10];var u=d("CSSAnimationBuilder").keyframeAnimation(a.yAxisDiv);u.defineKeyframe("0%",{transform:"translateY("+0+"px)","animation-timing-function":this.config.shootUpVerticalCurve}).defineKeyframe(k,{transform:"translateY("+e+"px)","animation-timing-function":"linear"}).defineKeyframe(r,{transform:"translateY("+e+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(s,{transform:"translateY("+(e+f)+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(j,{transform:"translateY("+(e+f)+"px)"});u.setDuration(i).setFinishedCallback(this.createOnFinishForReaction(a)).setIterationCount(1);var v=d("CSSAnimationBuilder").keyframeAnimation(a.xAxisDiv);v.defineKeyframe("0%",{transform:"translateX("+0+"px)"}).defineKeyframe(r,{transform:"translateX("+0+"px)"}).defineKeyframe(j,{transform:"translateX("+0+"px)"});v.setDuration(i).setTimingFunction(this.config.anonHorizontalCurve).setIterationCount(1);var w=d("CSSAnimationBuilder").keyframeAnimation(a.friendImg);w.defineKeyframe("0%",{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":"linear"}).defineKeyframe(k,{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":this.config.explosionScaleCurve}).defineKeyframe(m,{transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(o,{transform:"scale("+this.config.maxExplosionScale+")",opacity:"1","animation-timing-function":"linear"}).defineKeyframe(p,{transform:"scale("+this.config.minMorphScale+")",opacity:"0"}).defineKeyframe(j,{opacity:"0"});w.setDuration(i).setIterationCount(1);var x=d("CSSAnimationBuilder").keyframeAnimation(a.reactionElem);x.defineKeyframe("0%",{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(o,{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(p,{opacity:"1",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":this.config.morphScaleCurve}).defineKeyframe(q,{opacity:"1",transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(s,{opacity:"1",transform:"scale("+g+")","animation-timing-function":"linear"}).defineKeyframe(t,{opacity:"1",transform:"scale("+g+")","animation-timing-function":"linear"}).defineKeyframe(j,{opacity:"1",transform:"scale("+.1+")","animation-timing-function":"linear"});x.setDuration(i).setIterationCount(1);var y=[];for(var e=a.fireworks,f=Array.isArray(e),r=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(r>=e.length)break;k=e[r++]}else{r=e.next();if(r.done)break;k=r.value}m=k;o=d("CSSAnimationBuilder").keyframeAnimation(m);o.defineKeyframe("0%",{"background-position":"0px -36px",opacity:"0"}).defineKeyframe(l,{"background-position":"0px 36px",opacity:"0"}).defineKeyframe(n,{"background-position":"0px -36px",opacity:"1"}).defineKeyframe("100%",{"background-position":"0px -36px",opacity:"0"});o.setDuration(i).setIterationCount(1).setMemoize(!1).setTimingFunction("cubic-bezier(0.075, 0.82, 0.165, 1)").setFinishedCallback(this.onFireworkFinish.bind(this));y.push(o)}this.animating&&c("queryThenMutateDOM")(function(){},function(){c("DOM").appendContent(b.root,a.root);a.setState("ANIMATING");for(var d=0;d<y.length;d++){var e=y[d];e.start()}v.start();u.start();w.start();x.start()})};e.onFireworkFinish=function(a){this.decrementFireworksCount()};e.incrementFireworksCount=function(){var a=b.fireWorksCount;a=a+h;c("Arbiter").inform(d("StreamingReactionsTrayEvents").FireworksAnimating,!0);b.fireWorksCount=a};e.decrementFireworksCount=function(){var a=b.fireWorksCount-1;a<1&&c("Arbiter").inform(d("StreamingReactionsTrayEvents").FireworksAnimating,!1);b.fireWorksCount=a};return b}(c("StreamingReactionsTrayAnimation"));a.fireWorksCount=0;g["default"]=a}),98);
__d("XVODStreamingReactionsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/vodreactions/",{eft_id:{type:"String",required:!0},start_time:{type:"Float",required:!0},end_time:{type:"Float",required:!0}})}),null);
__d("VODReactionStream",["AsyncRequest","SubscriptionsHandler","XVODStreamingReactionsAsyncController","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){var d=this;this.videoPlayerController=a;this.diffuser=b;this.reactions=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new(c("SubscriptionsHandler"))();this.resetToTime(a.getCurrentTimePosition());this.subscriptions.addSubscriptions(a.addListener("seek",function(a){d.resetToTime(a.time)}));c("setInterval")(this.renderReactions.bind(this),800)}var b=a.prototype;b.renderReactions=function(){if(!this.videoPlayerController.isState("playing")||this.videoPlayerController.isMuted())return;var a=this.videoPlayerController.getCurrentTimePosition(),b=Math.floor(a);this.onTimeUpdated(a);this.reactions[b]&&(this.diffuser.processVodPayload(this.reactions[b]),delete this.reactions[b])};b.fetchNewReactions=function(a){var b=this,d=a+60;a=c("XVODStreamingReactionsAsyncController").getURIBuilder().setString("eft_id",this.videoPlayerController.getVideoID()).setFloat("start_time",a).setFloat("end_time",d).getURI();this.currentRequest&&this.currentRequest.abandon();this.currentRequest=new(c("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();if(a.reactionpayloads)for(var a=a.reactionpayloads,c=Array.isArray(a),e=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b.reactions[f.start_time]=f}b.queueEndTime=d}).setFinallyHandler(function(){b.currentRequest=null});this.currentRequest.send()};b.onTimeUpdated=function(a){if(a<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewReactions(this.queueEndTime)};b.resetToTime=function(a){this.fetchNewReactions(a)};b.stop=function(){this.subscriptions.release()};return a}(),i=new Map();a=function(a,b){i.set(a,new h(a,b))};b=function(a){var b=i.get(a);if(!b)return;b.stop();i["delete"](a)};g.start=a;g.stop=b}),98);
__d("StreamingReactionsTray",["Arbiter","FeedbackAddStreamingReactionSubscription","HotLiveVideoPayloadManager","Run","StreamingReactionsTrayAnonymousAnimation","StreamingReactionsTrayConfig","StreamingReactionsTrayDiffuser","StreamingReactionsTrayEvents","StreamingReactionsTrayFriendAnimation","Style","SubscriptionsHandler","VODReactionStream","Visibility"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,e,f,g,h,i,j,k,l){this.$7=a;this.$4=e;this.$19=0;this.$17=j;this.$18=k;this.$20(e);l=b?!!b.getOption("VideoWithLiveBroadcast","isLive"):!0;this.$1=new(c("StreamingReactionsTrayDiffuser"))(new(c("StreamingReactionsTrayAnonymousAnimation"))(this.$7,this.$2),new(c("StreamingReactionsTrayFriendAnimation"))(this.$7,this.$2),l,this.$2);this.$16=new(c("SubscriptionsHandler"))();this.$10=b;this.$8=!1;this.$9=!1;this.$5=h;this.$6=i;this.$11=!1;this.$12=f;this.$13=g;this.$21();d("Run").onLeave(this.$22.bind(this));a=b?b.getOption("VideoWithVODBroadcast","isLiveVOD"):!1;a&&b&&d("VODReactionStream").start(b,this.$1)}var b=a.prototype;b.$20=function(a){var b=parseInt(c("Style").get(this.$7,"width"),10),d=parseInt(c("Style").get(this.$7,"height"),10);this.$3=a;this.$2?this.$2.updateSurface(b,d,this.$3):this.$2=new(c("StreamingReactionsTrayConfig"))(b,d,this.$3)};b.$23=function(){if(this.$2){var a=parseInt(c("Style").get(this.$7,"width"),10),b=parseInt(c("Style").get(this.$7,"height"),10);this.$2.updateDimensions(a,b,this.$3)}};b.$24=function(a){var b=this;return[a.addListener("pausePlayback",function(){b.$25()}),a.addListener("beginPlayback",function(){b.$26()&&b.$27()}),a.addListener("seek",function(){b.$28()}),a.addListener("VideoChannelController/enterChannel",function(){b.$20("channel"),b.$29()}),a.addListener("VideoChannelController/exitChannel",function(){b.$20(b.$4),b.$26()&&b.$27()}),a.addListener("beginPlayback",function(){b.$26()&&window.setTimeout(function(){b.$20(b.$3),b.$27()},100)}),a.addListener("finishPlayback",function(){b.$29()})]};b.$30=function(){var a=this;window.addEventListener("resize",function(){return a.$23()})};b.$21=function(){var a,b=this,e=this.$10?this.$24(this.$10):[];this.$10||this.$30();(a=this.$16).addSubscriptions.apply(a,e.concat([c("Arbiter").subscribe("VideoChannelView/opened",function(){b.$20("channel"),b.$29()}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").ResizeChannelViewWindow,function(){return b.$20(b.$3)}),c("Arbiter").subscribe("VideoChannelView/closed",function(){b.$20(b.$4),b.$26()&&b.$27()}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){b.$26()&&b.$27()}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){b.$29()}),this.$2.addListener(d("StreamingReactionsTrayEvents").UpdateSurface,function(){return b.$1.clearCurrentReactions()}),c("Arbiter").subscribe("ufi/reactionButtonClicked",function(a,c){c.ft_id===b.$12&&b.$31(c,!0)}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").AddReactionAnimate,function(a,c){b.$31(c,!1)}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").DisableReactions,function(){b.$11=!0,b.$29()}),c("Arbiter").subscribe(d("StreamingReactionsTrayEvents").EnableReactions,function(){b.$11=!1,b.$26()&&b.$27()}),c("Visibility").addListener(c("Visibility").HIDDEN,function(){b.$29()}),c("Arbiter").subscribe("ActorSelector/ActorSelected",function(a,c){b.$6[c.selectedActorID]&&(b.$5=b.$6[c.selectedActorID])}),c("Visibility").addListener(c("Visibility").VISIBLE,function(){b.$26()&&b.$27()})]));this.$26()&&this.$27()};b.$22=function(){this.$10&&d("VODReactionStream").stop(this.$10),this.$29(),this.$16.release()};b.$32=function(){this.$14=c("FeedbackAddStreamingReactionSubscription").subscribe(this.$12,this.$33.bind(this)),this.$9=!0};b.$34=function(){this.$14&&this.$14.unsubscribe(),this.$15&&c("HotLiveVideoPayloadManager").unsubscribe(this.$15),this.$9=!1};b.$31=function(a,b){var c=Date.now(),d=c-this.$19;if(d<this.$2.reactionSelfFireworkAnimationThreshold)return;this.$19=c;var e;switch(a.reaction_type){case 0:return;case 1:e="LIKE";break;case 2:e="LOVE";break;case 3:e="WOW";break;case 4:e="HAHA";break;case 7:e="SORRY";break;case 8:e="ANGER";break;case 11:e="DOROTHY";break;case 16:e="SUPPORT";break;default:throw new Error("Not a valid reaction type: "+a.reaction_type)}this.$1.addOwnReaction(e,this.$5,b)};b.$33=function(a){this.$8&&this.$17&&this.$1.processPayload(a)};b.$29=function(){this.$8=!1,this.$9&&this.$34(),this.$1.stopAnimation()};b.$25=function(){this.$8=!1,this.$9&&this.$34(),this.$1.pauseAnimation()};b.$27=function(){if(this.$8)return;this.$8=!0;this.$9||this.$32();this.$18&&this.$1.startAnimation()};b.$28=function(){this.$1.clearBuffer()};b.$35=function(){return!(this.$3==="channel"||this.$3==="snowlift"||this.$3==="permalink"||this.$3==="live_control_panel"||this.$3==="camera_post"||this.$3==="tahoe")};b.$26=function(){return this.$11?!1:this.$35()?this.$36():this.$37()};b.$37=function(){return this.$10?!this.$10.isState("finished"):!0};b.$36=function(){if(!this.$10)return!0;var a=this.$10;return a.isState("playing")};return a}();g["default"]=a}),98);
__d("VideoComponentStreamingReactionTray.react",["cx","ReactDOM","StreamingReactionsTray","VideoComponent","VideoComponentStreamingReactionTrayQuery.graphql","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.vpc=null,c.streamingReactionsTray=null,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this.props.video,e=this.props.user,f=d("ReactDOM").findDOMNode(this.refs.root);f!=null&&f instanceof HTMLElement&&this.vpc!=null&&b&&e&&(b!==a.video||e!==a.user)&&b.broadcastID!=null&&(this.streamingReactionsTray=new(c("StreamingReactionsTray"))(f,this.vpc,this.vpc.getPlayerSuborigin()||"",b.feedbackID||"",b.broadcastID||"",e.profilePic.uri,{},!0,!0,!0))};e.enable=function(a){this.vpc=a};e.disable=function(){};e.render=function(){return j.jsx("div",{ref:"root",className:"_3htz _3ah-"+(this.props.hidden?" hidden_elem":"")})};return b}(j.Component);e=d("VideoComponent").createContainer(a,{videoGraphQLQuery:i!==void 0?i:i=b("VideoComponentStreamingReactionTrayQuery.graphql")});g["default"]=e}),98);
__d("VideoComponentWithLiveBroadcast.react",["VideoComponent","VideoComponentWithLiveBroadcastQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=d("react");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.disable=function(a){};c.enable=function(a){this.vpc=a};c.render=function(){return null};return b}(a.Component);e=d("VideoComponent").createContainer(c,{videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentWithLiveBroadcastQuery.graphql")});g["default"]=e}),98);
__d("VideoComponentContextMenu.react",["VideoComponent","VideoComponentContextMenuQuery.graphql","VideoContextMenu","VideoPlayerHTML5Experiments","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this.contextMenu;b&&a.video&&a.video!==this.props.video&&b.setPermalinkURL(a.video.permalinkUrl)};d.enable=function(a){if(!this.refs.container)return;a.isHtml5Player()&&(this.contextMenu=new(c("VideoContextMenu"))(a,this.refs.container,{permalinkURL:""}))};d.disable=function(){};d.render=function(){return i.jsx("div",{ref:"container"})};return b}(i.Component);e=d("VideoComponent").createContainer(a,{suppressMount:function(){return!c("VideoPlayerHTML5Experiments").useCustomContextMenu},videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentContextMenuQuery.graphql")});g["default"]=e}),98);
__d("DebugOverlayBitrate",["BinarySearch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d=[],e=0;b=b;a=a;d[0]=d[1]="N/A";if(!b)return{bitrate:d,currentPlayingSegment:e};for(var f=0;f<=1;f++){if(!b[f])continue;c>b[f].length&&(c=0);e=this._getCurrentSegment(f,a,b,c);var g=this._getSegmentSize(f,e,b),h=this._getSegmentLength(f,e,b);d[f]=g&&h?this._getBitrateString(h?g*8/h:0):"N/A"}return{bitrate:d,currentPlayingSegment:e}}function b(a){var b=1024;return(a/b).toFixed(1)+"Kbps"}function c(a,b,c){return a>=b&&a<=c}function e(a,b,c,e){e=e;var f=c[a];if(!f)return-1;var g=f[e];if(!g)return-1;var h=g.startTime;g=g.endTime;if(!this._isPlayheadInsideSegment(b,h,g))if(e<c[a].length-1){f=f[e+1];if(!f)return-1;h=c[a][e+1].startTime;g=c[a][e+1].endTime;this._isPlayheadInsideSegment(b,h,g)?++e:e=-1}else e=-1;if(e===-1){f=d("BinarySearch").findBoundInArray(c[a].map(function(a){return a.startTime}),b,function(a,b){return a-b},d("BinarySearch").LEAST_STRICT_UPPER_BOUND);e=--f}return e}function f(a,b,c){if(c[a]&&c[a][b]&&c[a][b].url){c=c[a][b].url;a=c.startByte;b=c.endByte;return a===null||b===null||!b?0:b-a}return 0}function h(a,b,c){if(c[a]&&c[a][b]){c=c[a][b];a=c.startTime;b=c.endTime;return a===null||b===null||!b?0:b-a}return 0}g.computeBitrate=a;g._getBitrateString=b;g._isPlayheadInsideSegment=c;g._getCurrentSegment=e;g._getSegmentSize=f;g._getSegmentLength=h}),98);
__d("VDOPropertyUpdater",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(){function a(a,b,c){this.parent=b,this.property=a,this.initValue=c}var b=a.prototype;b.safeValue=function(a){return a===void 0?this.initValue:a};b.get=function(a){return this.parent.getProp(a||this.property)};b.replace=function(a){this.parent.replace(this.property,this.safeValue(a))};b.update=function(a,b){this.parent.update(this.property,a,this.safeValue(b))};return a}()}),null);
__d("VDOIdentityHistory",["VDOPropertyUpdater"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b,c)||this;e.recordEvent=function(a,b){e.history[a]=e.safeValue(b)};e.recordProperty=e.recordEvent;e.history=[];e.initValue=d;return e}var c=b.prototype;c.previous=function(a,b){this.replace(this.history[b])};c.next=function(a){this.replace(this.history[a])};c.last=function(){return this.safeValue(this.history[this.history.length-1])};return b}(b("VDOPropertyUpdater"))}),null);
__d("VDOSegmentArraysHistory",["VDOPropertyUpdater"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.indexDiffs=[];return b}var c=b.prototype;c.recordEvent=function(a,b){this.indexDiffs[a]=this.computeSegmentDiffToLog(b)};c.computeSegmentDiffToLog=function(a){var b=this,c=a;this.segmentIndexEndTimes&&(c=a.map(function(a,c){c=b.segmentIndexEndTimes[c];if(c==null)return a;var d=a.length;while(--d>=0)if(a[d].endTime<=c){d++;break}return a.slice(d)}));this.segmentIndexEndTimes=this.extractEndTimes(a);return c};c.extractEndTimes=function(a){a=a.map(function(a){return a[a.length-1]});return a.filter(function(a){return a}).map(function(a){a=a.endTime;return a})};c.previous=function(a,b){b=this.indexDiffs[a];if(b){a=this.get();for(var c=0;c<b.length;c++){var d=b[c].length;if(!d)continue;var e=a[c];b[c]=e.splice(e.length-d,d)}this.updateLivehead(a)}};c.next=function(a){a=this.indexDiffs[a];if(a){var b=this.get();for(var c=0;c<a.length;c++){var d=b[c];d.push.apply(d,a[c])}this.updateLivehead(b)}};c.updateLivehead=function(a){a=this.extractEndTimes(a);a.length&&this.parent.replace("liveheadPosition",Math.min.apply(Math,a))};return b}(b("VDOPropertyUpdater"))}),null);
__d("VDOSegmentStatesHistory",["VDOPropertyUpdater"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.segmentStates=[];b.segmentIDs=[];return b}var c=b.prototype;c.recordEvent=function(a,b){var c=b[0];b=b[1];this.segmentIDs[a]=c;this.segmentStates[a]=b};c.previous=function(a,b){a=this.segmentIDs[a];if(a){b=b<0?-1:this.segmentIDs.lastIndexOf(a,b);this.update(a,b===-1?0:this.segmentStates[b])}};c.next=function(a){var b=this.segmentIDs[a];b&&this.update(b,this.segmentStates[a])};return b}(b("VDOPropertyUpdater"))}),null);
__d("VDOSparseHistory",["VDOPropertyUpdater"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b,c,d)||this;e.recordEvent=function(a,b){e.isUpdate(b)&&(e.history[a]=b,e.mostRecent=b)};e.recordProperty=e.recordEvent;e.getAllUntil=function(a){var b=[];for(var c in e.history)Number(c)<=a&&b.push(e.history[c]);return b};e.history={};e.initValue=d;e.mostRecent=void 0;return e}var c=b.prototype;c.isUpdate=function(a){return this.mostRecent!==a};c.previous=function(a,b){a=-1;for(var c in this.history){if(Number(c)>b)break;a=Number(c)}a>=0&&this.replace(this.history[a])};c.next=function(a){a in this.history&&this.replace(this.history[a])};return b}(b("VDOPropertyUpdater"))}),null);
__d("VDOSourceBufferHealthHistory",["VDOSparseHistory"],(function(a,b,c,d,e,f){"use strict";var g=function a(b){if(b==null||typeof b!=="object")return b;if(Array.isArray(b))return b.map(a);var c={};for(var d in b)c[d]=a(b[d]);return c};e.exports=(c=a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b,c,d)||this;e.recordEvent=function(a,b){b=b();var c=e.isUpdate(b);window.updates=!!c+(window.updates||0);if(c){var d=g(b);e.history[a]=function(){return d};e.mostRecent=d}};e.recordProperty=e.recordEvent;return e}var c=b.prototype;c.isUpdate=function(a){var b=this.mostRecent;if(a&&!b)return!0;if(a.length!==this.mostRecent.length)return!0;for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(!!d!==!!e)return!0;var f=d.length;if(f!==e.length)return!0;if(!f)continue;d=d[f-1].endTime;e=e[f-1].endTime;if(d!==e)return!0}return!1};return b}(b("VDOSparseHistory")),a.deepClone=g,c)}),null);
__d("VideoDebugHistory",["VDOIdentityHistory","VDOSegmentArraysHistory","VDOSegmentStatesHistory","VDOSourceBufferHealthHistory","VDOSparseHistory"],(function(a,b,c,d,e,f){"use strict";var g=function(a){if(typeof a==="function"){a=a();return function(){return a}}if(a==null||typeof a!=="object")return a;return Array.isArray(a)?a.slice():babelHelpers["extends"]({},a)};e.exports=function(){function a(a){this.frozenProps={};this.$1=a;this.history=[];this.offset=Infinity;this.reconstructors={lastError:new(b("VDOIdentityHistory"))("lastError",this),stallTime:new(a=b("VDOSparseHistory"))("stallTime",this,0),playerState:new(b("VDOIdentityHistory"))("playerState",this,"loading"),playbackPosition:new(b("VDOIdentityHistory"))("playbackPosition",this,0),lastMpdFetchDuration:new a("lastMpdFetchDuration",this),mpdUpdatePollCount:new a("mpdUpdatePollCount",this),segmentStates:new(b("VDOSegmentStatesHistory"))("segmentStates",this),segmentArrays:new(b("VDOSegmentArraysHistory"))("segmentArrays",this),getSourceBufferHealth:new(b("VDOSourceBufferHealthHistory"))("getSourceBufferHealth",this),lastLogEvent:new a("lastLogEvent",this)}}var c=a.prototype;c.freezeProps=function(){this.offset=this.history.length;var a=this.$1();for(var b in a)a[b]=g(a[b]);this.frozenProps=a;return this.offset};c.record=function(a,b,c){var d=this.history.length;this.history.push(c);for(var e in this.reconstructors){c=this.reconstructors[e];var f=a[e],g=b[e];f!==void 0&&"recordEvent"in c?c.recordEvent(d,f,b):g!==void 0&&"recordProperty"in c&&c.recordProperty(d,g,b)}};c.getProps=function(){return Object.assign(this.frozenProps,{atHistoryEntry:this.offset,historyLength:this.history.length})};c.prev=function(){var a=Math.min(this.offset,this.history.length),b=a-1;if(b<0)return-Infinity;for(var c in this.reconstructors){var d=this.reconstructors[c];d.previous(a,b)}this.frozenProps.historyEventType=this.history[b];return this.offset=b};c.next=function(){var a=Math.min(this.offset,this.history.length);a=a+1;if(a>this.history.length)return Infinity;for(var b in this.reconstructors){var c=this.reconstructors[b];c.next(a)}this.frozenProps.historyEventType=this.history[a];return this.offset=a};c["goto"]=function(a){var b=this.reconstructors.playbackPosition.last(),c=a>b,d=0;while(this.frozenProps.playbackPosition>a&&isFinite(d))d=this.prev();while(this.frozenProps.playbackPosition<a&&isFinite(d))d=this.next();this.frozenProps.playbackPosition=Math.max(0,Math.min(a,b));return c?Infinity:d};c.getProp=function(a){return this.frozenProps[a]};c.replace=function(a,b){this.frozenProps[a]=b};c.update=function(a,b,c){this.frozenProps[a][b]=c};return a}()}),null);
__d("VideoDebugDashManifestView.react",["cx","Promise","TooltipLink.react","URI","UserAgent","XHRRequest","react","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={streamInterruptAt:"rgba(227,26,28,0.7)",commercialBreakAt:"rgba(127,188,65,0.7)",endedAt:"rgba(0,0,0,0.7)",timelineGapAt:"rgba(255,50,50,0.7)",timelineOverlapAt:"rgba(255,255,255,0.7)"},k=10,l=10,m=2/15,n=1+2*m,o=.25;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;c=a.call(this,b)||this;c.eventInView=function(a){return a.time<c.tMax&&a.time>=c.tMin};c.rangeInView=function(a){return a.startTime<c.tMax&&a.endTime>=c.tMin-o};c.renderTimeline=function(a,b){var d=["v","a"][b];a=a.map(c.renderSegment.bind(babelHelpers.assertThisInitialized(c),d));d=n*b;return i.jsx("g",{transform:"translate(0,"+d+")",children:a},"track-"+b)};c.renderBufferHealth=function(a,b){var d=b*n-m;return i.jsx("g",{transform:"translate(0,"+d+")",children:a.filter(c.rangeInView).map(c.renderBufferRange)},"buffer"+b)};c.renderMomentEvent=function(a,b){var d=a.type;a=a.time;b={key:b+"-"+d+"-"+a,stroke:j[d]};return i.jsx("line",babelHelpers["extends"]({x1:a,x2:a,y1:c.yMin,y2:c.yMax},b))};c.getVisibleSegments=function(a){return a.filter(c.rangeInView)};c.$1=0;return c}var e=d.prototype;e.$2=function(a){a=new(c("URI"))(a.url);a=this.props.segmentInitSourceMap.get(a.getPath());if(!a)return"";a=a.getFailoverUri();a=this.$3(a);return a};e.$3=function(a){var b=new(c("URI"))(a),d=a.getStartByte();a=a.getEndByte();(d||a)&&(b.addQueryData("bytestart",d),b.addQueryData("byteend",a));return b.toString()};e.$4=function(a){return new(b("Promise"))(function(b,d){new(c("XHRRequest"))(a).setMethod("GET").setResponseType("blob").setResponseHandler(function(a,c,d){d&&b(a)}).setErrorHandler(d).send()})};e.$5=function(a){a=new(c("URI"))(a.url).getPath();a=a.substring(a.lastIndexOf("/")+1);return a};e.$6=function(a){var b={a:"audio/mp4",v:"video/mp4"};return b[a[0]]};e.$7=function(a,d,e){var f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:f=c("UserAgent").isPlatform("Mac OS X")?e.metaKey:e.ctrlKey;o.next=3;return b("regeneratorRuntime").awrap(this.$8(a,d,f));case 3:g=o.sent,h=document.createElement("a"),i=window.URL.createObjectURL(g),h.href=i,j=this.$5(a),k=j.lastIndexOf("."),l=j.substring(0,k),m=j.substring(k),h.download=l+"-"+d+m,n=this.$6(d),h.type=n,h.click(),window.URL.revokeObjectURL(i);case 16:case"end":return o.stop()}},null,this)};e.$8=function(a,c,d){var e=this;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=[this.$3(a.url)];d&&c.unshift(this.$2(a));return f.abrupt("return",b("Promise").all(c.map(function(a){return e.$4(a)})).then(function(a){return new Blob(a)}));case 3:case"end":return f.stop()}},null,this)};e.renderSegment=function(a,b,d){var e=b.startTime,f=b.debugInfo;f=f&&f.delta>0?f.endTime:b.endTime;f=f-e;var g=this.props.getSegmentClass(this.props.segmentStates,b,a),h=""+a+d;return i.jsx(c("TooltipLink.react"),{tooltip:"Segment "+d+" - "+a,onClick:this.$7.bind(this,b,h),children:i.jsx("rect",{className:g,x:e,width:f,height:"1"})},h)};e.renderBufferRange=function(a,b){var c=a.gap,d=a.startTime;a=a.endTime;c=c?"_4yqh _4sco":"_4yqi _4scq";return i.jsx("line",{className:c,x1:d,x2:a},"buffer-"+b)};e.renderDurationEvent=function(a,b){var c=a.type,d=a.track,e=a.startTime;a=a.endTime;d=n*d;var f=d+1,g=e-o,h=e+o,k=a+o,l=a-o;g={d:"M"+g+" "+d+"L"+h+" "+f+"H"+k+"L"+l+" "+d,key:b+"-"+c+"-"+e+"-"+a,fill:j[c],stroke:j[c]};return i.jsx("path",babelHelpers["extends"]({},g))};e.renderSegmentStats=function(a,b,d){if(!b)return null;a||(a=[],a[0]=a[1]="N/A");return i.jsx(c("TooltipLink.react"),{display:"inline",href:"#",className:"_2io3 _4scr",tooltip:"Current bitrate / Length of the largest buffered segment shown in this track",children:a[d]+" / "+b.toFixed(2)+"s"},"length-"+d)};e.getLongestSegmentLength=function(a){return a.reduce(function(a,b){var c=b.startTime;b=b.endTime;return Math.max(a,b-c)},0)};e.computeViewBox=function(a,b){var c=this.props.segmentArrays.length;this.tMin=a-k;this.tMax=a+l;this.yMin=-2*m;this.yMax=c+2*m*b;return this.tMin+" "+this.yMin+" "+(k+l)+" "+this.yMax};e.render=function(){var a=this,b=this.props,d=b.segmentArrays;b=b.playbackPosition;if(!d)return null;var e=this.props.getSourceBufferHealth(),f=this.computeViewBox(b,e.length);d=d.map(this.getVisibleSegments);var g=d.map(this.getLongestSegmentLength);b=i.jsx("line",{x1:b,x2:b,y1:this.yMin,y2:this.yMax,stroke:"#000"});var h=this.props.timelineEvents.filter(this.eventInView),j=this.props.timelineRanges.filter(this.rangeInView);for(var n=0,o;o=d[n];n++)for(var o=o,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}r=r;r=r.debugInfo;if(r){var s=r.delta,t,u,v;s>0?(t="timelineGapAt",u=r.endTime,v=r.endTime+s):(t="timelineOverlapAt",u=r.endTime+s,v=r.endTime);j.push({type:t,track:n,startTime:u,endTime:v})}}return i.jsxs("div",{className:"_2iob _4scs",children:[i.jsxs(c("TooltipLink.react"),{display:"inline",href:"#",className:"_2iof _4scu",tooltip:"The vertical line marks the current playhead position. To the left of it, a "+k+"s window of past segments. Afterwards, the next upcoming "+l+"s of known segments.",children:["Video:",i.jsx("br",{}),"Audio:"]}),i.jsx("div",{className:"_2iog _4scv",children:g.map(function(b,c){return a.renderSegmentStats(a.props.bitrate,b,c)})}),i.jsxs("svg",{className:"_2ioh _4scw",viewBox:f,strokeWidth:m,children:[d.map(this.renderTimeline),h.map(this.renderMomentEvent),j.map(this.renderDurationEvent),b,e.map(this.renderBufferHealth)]})]})};return d}(i.Component);g["default"]=a}),98);
__d("VideoDebugItem.react",["cx","TooltipLink.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.children,c=null;this.props.column==="right"&&(c="_s5q");var d=this.props.label;this.props.tooltip&&(d=i.jsx(b("TooltipLink.react"),babelHelpers["extends"]({},this.props,{children:d})));return i.jsxs("div",{className:c,children:[i.jsx("b",{children:d}),": ",a]})};return c}(i.Component);e.exports=a}),null);
__d("VideoDebugDashMpdLag.react",["TooltipLink.react","VideoDebugItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=a.mpdUpdatePollCount!==this.props.mpdUpdatePollCount;this.setState({mpdPoll:a})};d.shouldComponentUpdate=function(a,b){return b.mpdPoll};d.$1=function(a){return(a/1e3).toFixed(3)+"s"};d.render=function(){var a=this.props,b=a.lastMpdFetchDuration;a=a.lastMpdChangesTime;if(!b)return null;var d=this.$1(Date.now()-a);d="We saw no new segments in this number of MPD polls.\n"+(b?"Last poll with news was "+d+" ago.":"It has been "+d+" without news, since we started polling.");var e=null,f=this.props.prevMpdChangesTime;f&&(e=this.$1(a-f),e=": "+e);return h.jsxs("div",{children:[h.jsxs(c("VideoDebugItem.react"),{label:"MPD load time",column:"right",tooltip:"Load time of the most recent dash manifest",children:[b.toFixed(3),"s"]}),h.jsxs(c("VideoDebugItem.react"),{label:"MPD polls",href:this.props.liveManifestUrl||null,tooltip:"Number of recent dash manifest polls without news,\nand the time last poll for new segments took.",children:[h.jsx(c("TooltipLink.react"),{tooltip:d,children:this.props.mpdUpdatePollCount}),e]})]})};return b}(h.Component);g["default"]=a}),98);
__d("VideoDebugDashRepresentation.react",["TooltipLink.react","VideoDebugItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=/replica=(\d*)\&?/;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.idToolLink=function(a){return"https://our.intern.facebook.com/intern/id2/"+a+"/"};d.render=function(){var a=this.props,b=a.streamId,d=a.audioStreamId,e=a.audioFormat;a=a.liveManifestUrl;if(!b)return null;var f=null,g=b;b=b.replace(/vd?$/,"");/^\d+$/.test(b)&&(g=h.jsx(c("TooltipLink.react"),{target:"_blank",display:"inline",tooltip:"Show VideoEncoding of the playing video representation id",href:this.idToolLink(b),children:g}));b="";if(a&&a.indexOf("aaf=1")>-1){var j=null;a=a.match(i);j=a&&a[1];f=h.jsx(c("VideoDebugItem.react"),{label:"AAF Replica",children:j})}if(d){a=d.replace(/ad?$/,"");/^\d+$/.test(a)?b=h.jsxs(c("VideoDebugItem.react"),{label:"Audio Representation",children:[h.jsx(c("TooltipLink.react"),{target:"_blank",display:"inline",tooltip:"Show VideoEncoding of the playing audio representation id",href:this.idToolLink(a),children:d})," ","(",e,")"]}):b=h.jsx(c("VideoDebugItem.react"),{label:"Audio Representation",children:d})}return h.jsxs("div",{children:[h.jsx(c("VideoDebugItem.react"),{label:"Video Representation",children:g}),b,f]})};return b}(h.Component);g["default"]=a}),98);
__d("exposeVideoDebug",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getDebug,d=a.videoID,e=a.loggedError;a=a.lastError;c=c();var f=c.VideoPlayerController,g=c.VideoDebugParent,h=c.VideoDebugOverlay,i=c.VideoBufferGaps,j=c.ComboBufferGaps;c=c.AudioBufferGaps;var k=g.getProps();k=k.segmentArrays;k=k||[];var l=k[0];k=k[1];var m=f.getVideoAPI(),n=m.getDOMElement(),o=m.getDebug(),p=o.VideoPlayerHTML5DashPlayer;o=o.VideoPlayerHTML5ApiCea608StateDebug;var q={},r={};if(p){q=p.getDebug();var s=q;s=s.DashPlayer;s&&(r=s.getDebug(),!r.identifiersIntact)}var t={vid:"videoID",vel:"VideoElement",man:"manifest",mpd:"getManifest",abr:"AbrManager",bwe:"BandwidthEstimator",src:"VideoSource",vss:"VideoSourceStream",vsi:"VideoSegmentIndex",vbm:"VideoBufferManager",vsb:"VideoSourceBuffer",vbg:"VideoBufferGaps",cbg:"ComboBufferGaps",ass:"AudioSourceStream",asi:"AudioSegmentIndex",abm:"AudioBufferManager",asb:"AudioSourceBuffer",abg:"AudioBufferGaps",vtq:"VideoTaskQueue",vts:"VideoTaskScheduler",tss:"TextSourceStream",dsp:"DashPlayer",h5d:"VideoPlayerHTML5DashPlayer",h5a:"VideoPlayerHTML5Api",vpc:"VideoPlayerController",vdp:"VideoDebugParent",vdo:"VideoDebugOverlay",lpe:"LoggedPlayerError",err:"PlayerError",cea608:"VideoPlayerHTML5ApiCea608StateDebug"},u=babelHelpers["extends"]({videoID:d,VideoElement:n,VideoBufferGaps:i,ComboBufferGaps:j,AudioBufferGaps:c,VideoSegmentIndex:l,AudioSegmentIndex:k},q,r,{VideoPlayerHTML5DashPlayer:p,VideoPlayerHTML5Api:m,VideoPlayerController:f,VideoDebugParent:g,VideoDebugOverlay:h,LoggedPlayerError:e,PlayerError:a,VideoPlayerHTML5ApiCea608StateDebug:o,ns:function(a){a===void 0&&(a=window);console.group("videoDebug [videoID "+d+"]");for(var b in t){var c=t[b],e=u[c];e!==void 0&&(a[b]=e,window.console.log(b+" = "+c))}console.groupEnd();return u}});window.videoDebug=u;b&&u.ns()}f["default"]=a}),66);
__d("VideoDebugExposeVideoDebug.react",["cx","TooltipLink.react","exposeVideoDebug","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){a.preventDefault(),c("exposeVideoDebug")(d.props,!!a.shiftKey)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){return i.jsx(c("TooltipLink.react"),{display:"inline",className:"_5jy",style:{right:"15px"},onClick:this.$1,tooltip:"Expose a videoDebug object for this video to js devtools.\n(Shift-click to break out independent globals immediately.)",children:"js"})};return b}(i.Component);g["default"]=a}),98);
__d("VideoDebugFlag.react",["cx","TooltipLink.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.tooltip,d=a.active,e=a.available;a=a.onClick;var f="_45za";d=this.renderDot(d,e);e=this.props.label;c&&(e=i.jsx(b("TooltipLink.react"),{display:"inline",href:"#",tooltip:c,onClick:a,children:e}));return i.jsxs("li",{className:f,children:[i.jsx("b",{children:e}),": ",d]})};d.renderDot=function(a,b){a={color:a?"green":b?"red":"gray"};return i.jsx("span",{className:"_45zb",style:a,children:"\u25cf"})};return c}(i.Component);e.exports=a}),null);
__d("VideoDebugLogMessages.react",["cx","VideoDebugItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=" \ud83d\ude1e";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.renderOption=function(a,b){var d=a.event;(d==="paused"||d==="finished_playing")&&(d=d.toUpperCase());a=a.logData;var e=a.time_ms;a=a.recent_stalls_count;var f=c.props.initializationTimestamp;e=((e-f)/1e3).toFixed(3);f=a?j:null;return i.jsxs("option",{value:b,children:[e,"s: ",d,f]},b)},c.$2=function(a){var b=c.$3();b=b[Number(a.target.value)];console.group("log = %s event",b.event);console.groupEnd()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.shouldComponentUpdate=function(a){return this.$1!==a.lastLogEvent};d.$3=function(){var a=this.props,b=a.getLogEventsUntil;a=a.atHistoryEntry;a=a==null?Infinity:a;return b(a)};d.render=function(){var a=this.$3(),b=a.length-1;this.$1=a[b];var d;a.length&&(d=i.jsx("select",{value:b,className:"_4a8p",onChange:this.$2,children:a.map(this.renderOption)}));return i.jsx(c("VideoDebugItem.react"),{label:"Log",children:d})};return b}(i.Component);g["default"]=a}),98);
__d("VideoDebugScubaEventsLink.react",["CurrentUser","TooltipLink.react","URI","VideoDebugItem.react","formatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.getScubaUrl=function(a,b,d){function e(a){a=new Date(a);return c("formatDate")(a,"Y-m-d H:i:s",{skipPatternLocalization:!0})}e={cols:["time_ms","time_ms_begin","event_name","userid","video_id","time_ms_done","stall_time"],derivedCols:[],num_samples:"100",dimensions:["event_name"],startcol:"time_ms_begin",endcol:"time_ms_done",colorcol:"event_name",bordercol:"event_name",ordercol:"time_ms_begin",labelcol:"__number",unit:"Auto",aggregate:"",start:e(d-5e3),end:"now",modifiers:[],aggregateList:[],constraints:{userid:{eq:['["'+a+'"]']},video_id:{eq:['["'+b+'"]']}},c_constraints:{},b_constraints:{}};return new(c("URI"))("https://our.intern.facebook.com/intern/scuba/query/").setQueryData({dataset:"video_player_log",view:"TimelineBreakdown",drillstate:JSON.stringify(e)}).toString()};d.shouldComponentUpdate=function(a){var b=this.props.atHistoryEntry!==null;return b?a.atHistoryEntry!==this.props.atHistoryEntry||a.historyLength!==this.props.historyLength:!!a.atHistoryEntry};d.render=function(){var a=this.props.videoID,b=[],d=h.jsx(c("TooltipLink.react"),{display:"inline",target:"_blank",tooltip:"Open Video in Video Inspector",href:"https://fburl.com/b/vid "+a,children:"Video Inspector"});b.push(h.jsxs("span",{children:[" [",d,"]"]},"inspector"));if(this.props.isLiveStream){d=h.jsx(c("TooltipLink.react"),{display:"inline",href:new(c("URI"))("https://our.intern.facebook.com/intern/facecast/debug/").setQueryData({video_broadcast_id:a}).toString(),tooltip:"Debug in Facecast",children:"FC"});b.push(h.jsxs("span",{children:[" [",d,"]"]},"live"))}if(this.props.isSpherical){d=h.jsx(c("TooltipLink.react"),{display:"inline",target:"_blank",href:new(c("URI"))("https://our.intern.facebook.com/intern/360dive/").setQueryData({video_id:a}).toString(),tooltip:"Debug in 360dive",children:"360dive"});b.push(h.jsxs("span",{children:[" [",d,"]"]},"spherical"))}d=h.jsx(c("TooltipLink.react"),{display:"inline",target:"_blank",href:new(c("URI"))("https://our.intern.facebook.com/intern/ads/video_ads/state_based_debugger/").setQueryData({query_id:c("CurrentUser").getID()+":"+a}).toString(),tooltip:"Debug in StateBasedDebug",children:"SBL"});b.push(h.jsxs("span",{children:[" [",d,"]"]},"sbl"));d=h.jsx(c("TooltipLink.react"),{display:"inline",target:"_blank",href:new(c("URI"))("https://our.intern.facebook.com/intern/video_metrics/vsl/session_explorer/").setQueryData({session_key:c("CurrentUser").getID()+":"+a}).toString(),tooltip:"Debug in VSL Explorer",children:"VSL"});b.push(h.jsxs("span",{children:[" [",d,"]"]},"vsl"));d=this.props.initializationTimestamp;d={href:this.getScubaUrl(c("CurrentUser").getID(),a,d),tooltip:"Show scuba video_player_log events timeline for this video",target:"_blank",label:"Video"};var e=null,f=this.props,g=f.atHistoryEntry;f=f.historyLength;g!=null&&(e=h.jsxs("span",{children:[h.jsx("b",{children:" frozen at"})," ",g,"/",f]}));return h.jsxs(c("VideoDebugItem.react"),babelHelpers["extends"]({},d,{children:[a,b,e]}))};return b}(h.Component);g["default"]=a}),98);
__d("VideoDebugOverlay.react",["cx","TooltipLink.react","VideoDebugDashManifestView.react","VideoDebugDashMpdLag.react","VideoDebugDashRepresentation.react","VideoDebugExposeVideoDebug.react","VideoDebugFlag.react","VideoDebugItem.react","VideoDebugLogMessages.react","VideoDebugScubaEventsLink.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||b("react");function j(a){return Math.floor(a/125)}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return Number(a||0).toFixed(1)+"ms"};d.$2=function(a,b){b===void 0&&(b=3);return Number(a||0).toFixed(b)+"s"};d.$3=function(a,b){return Math.floor(a)+" / "+Math.floor(b)};d.render=function(){var a=null;if(this.props.streamType==="dash")a=i.jsx(b("VideoDebugDashRepresentation.react"),{streamId:this.props.streamId,audioStreamId:this.props.audioStreamId,audioFormat:this.props.dashAudioFormat,liveManifestUrl:this.props.liveManifestUrl});else{var c=this.props,d=c.tagSD;c=c.tagHD;c?a=d+" (SD) / "+c+" (HD)":a=d+" (SD)";a=i.jsx(b("VideoDebugItem.react"),{label:"Encoding",children:a})}c=!!this.props.segmentArrays;d="The current time of the video.";c&&(d+=" (The black bar in the graph.)");c=null;var e=this.props,f=e.liveheadPosition;e=e.playbackPosition;if(f&&this.props.isLiveStream){f=this.$2(f-e);c=i.jsx(b("VideoDebugItem.react"),{label:"Livehead \u0394",column:"right",tooltip:"How much ahead of the playhead the current livehead is. In the graph below, that amounts to the time between the playhead (the black bar) and the end of the final segment.",children:f})}else c=i.jsx(b("VideoDebugItem.react"),{label:"Duration",column:"right",children:this.$2(this.props.playbackDuration)});f=null;this.props.isLiveStream&&this.props.streamType=="dash"&&(f=i.jsx(b("VideoDebugDashMpdLag.react"),{liveManifestUrl:this.props.liveManifestUrl,lastMpdFetchDuration:this.props.lastMpdFetchDuration,mpdUpdatePollCount:this.props.mpdUpdatePollCount,prevMpdChangesTime:this.props.prevMpdChangesTime,lastMpdChangesTime:this.props.lastMpdChangesTime}));var g=this.props.lastError;if(g){var h=g,k=h.error;h=h.message;g=i.jsxs(b("VideoDebugItem.react"),{label:"Error",children:[k,": ",h]})}k=this.props;h=k.atHistoryEntry;k=k.historyEventType;h=h!=null?"isFrozen":null;var l=null;k?l=i.jsx(b("VideoDebugItem.react"),{label:"History event",children:k}):l=i.jsx(b("VideoDebugItem.react"),{label:"Autoplay reason",children:i.jsx(b("TooltipLink.react"),{display:"inline",href:"#",tooltip:this.props.autoplayReasonReadable,children:this.props.autoplayReason})});k=null;this.props.isLiveStream&&this.props.fblsHost&&(k=i.jsx(b("VideoDebugItem.react"),{label:"FBLS Host",column:"left",children:this.props.fblsHost}));var m=null;this.props.isLiveStream&&this.props.fblsTier&&(m=i.jsx(b("VideoDebugItem.react"),{label:"FBLS Tier",column:"left",children:this.props.fblsTier}));var n=null;this.props.isLiveStream&&this.props.p2pTech&&(n=i.jsx("div",{children:i.jsx(b("VideoDebugItem.react"),{label:"P2P Tech",tooltip:"The peering technology used",children:this.props.p2pTech})}));var o=null;if(this.props.isLiveStream&&this.props.p2pStats){var p,q=Object.keys(this.props.p2pStats.partners).length;o=i.jsxs("div",{children:[i.jsx(p=b("VideoDebugItem.react"),{label:"Connected peers",column:"right",children:q}),i.jsxs(p,{label:"P2P Savings",column:"left",tooltip:"Percent savings, defined as p2pResponseBytes / (cdnResponseBytes + p2pResponseBytes)",children:[this.props.p2pStats.savings.toFixed(3),"%"]}),i.jsxs(p,{label:"CDN Requests",column:"right",tooltip:"CDN requests made by the Hive P2P plugin (Requests / Responses / Errors)",children:[this.props.p2pStats.cdnRequests," /"," ",this.props.p2pStats.cdnResponses," /"," ",this.props.p2pStats.cdnResponseErrors]}),i.jsxs(p,{label:"P2P Requests",column:"left",tooltip:"P2P requests made by the Hive P2P plugin (Requests / Responses / Errors)",children:[this.props.p2pStats.p2pRequests," /"," ",this.props.p2pStats.p2pResponses," /"," ",this.props.p2pStats.p2pResponseErrors]})]})}q=null;this.props.isLiveStream&&this.props.inputStreamId&&(q=i.jsx(b("VideoDebugItem.react"),{label:"Input Stream Id",children:this.props.inputStreamId}));p=null;var r=null;this.props.isLiveStream&&(p=i.jsx(b("VideoDebugFlag.react"),{label:"IsShadow",active:this.props.isShadow,tooltip:"Indicates if the LIVE video is server side generated replica."}),this.props.isShadow&&(r=i.jsx(b("VideoDebugItem.react"),{label:"Shadow Experiment Name",children:this.props.shadowExperimentName})));var s=null;this.props.viewabilityPercentage&&(s=i.jsx(b("VideoDebugItem.react"),{label:"Viewability Percentage",children:this.props.viewabilityPercentage}));var t=i.jsx(b("VideoDebugItem.react"),{label:"Projection",children:this.props.projection});this.props.isSpherical&&(t=i.jsxs("div",{children:[i.jsx(b("VideoDebugItem.react"),{label:"Yaw / Pitch",tooltip:"The yaw / pitch orientation of the video",children:this.$3(this.props.yaw,this.props.pitch)}),t]}));return i.jsxs("div",{className:h,children:[i.jsx(b("TooltipLink.react"),{target:"_blank",display:"inline",className:"_5jy",href:"https://our.intern.facebook.com/intern/dex/video-debug-overlay/",tooltip:"See the DEX about how to read this overlay",children:"?"}),i.jsx(b("VideoDebugExposeVideoDebug.react"),{videoID:this.props.videoID,getDebug:this.props.getDebug,VideoDebugOverlay:this,loggedError:this.props.loggedError,lastError:this.props.lastError}),i.jsx(b("VideoDebugScubaEventsLink.react"),{videoID:this.props.videoID,initializationTimestamp:this.props.initializationTimestamp,atHistoryEntry:this.props.atHistoryEntry,historyLength:this.props.historyLength,isLiveStream:this.props.isLiveStream,isSpherical:this.props.isSpherical}),l,i.jsx(b("VideoDebugLogMessages.react"),{lastLogEvent:this.props.lastLogEvent,atHistoryEntry:this.props.atHistoryEntry,getLogEventsUntil:this.props.getLogEventsUntil,initializationTimestamp:this.props.initializationTimestamp}),g,i.jsx(b("VideoDebugItem.react"),{label:"State",column:"right",children:this.props.playerState}),i.jsx(b("VideoDebugItem.react"),{label:"Player",children:this.props.playerVersion}),i.jsx(b("VideoDebugItem.react"),{label:"Stalls",column:"right",tooltip:"total stall/in-play stall: total stall time/in-play stall time",children:this.props.stallCount+"/"+this.props.inPlayStallCount+": "+(this.$2(this.props.stallTime/1e3,1)+"/")+(""+this.$2(this.props.inPlayStallTime/1e3,1))}),i.jsx(b("VideoDebugItem.react"),{label:"Init time",children:this.$2(this.props.initializationTime/1e3)}),i.jsxs(b("VideoDebugItem.react"),{label:"Interrupts",column:"right",children:[this.props.interruptCount,": ",this.$2(this.props.interruptTime/1e3)]}),i.jsx(b("VideoDebugItem.react"),{label:"Stream Type",children:this.props.streamType}),i.jsx(b("VideoDebugItem.react"),{label:"Frames/Dropped",column:"right",children:this.props.totalFrames+"/"+this.props.droppedFrames}),i.jsx(b("VideoDebugItem.react"),{label:"Round-trip time",children:this.props.lastRTT?this.$1(this.props.lastRTT):"n/a"}),i.jsxs(b("VideoDebugItem.react"),{label:"Rep. Size",column:"right",tooltip:"Resolution of the representation, as reported by the browser, followed by the MOS value",children:[this.props.videoWidth,"x",this.props.videoHeight,this.props.mosValue?" ("+this.props.mosValue.toFixed(2)+")":""]}),t,a,i.jsx(b("VideoDebugItem.react"),{label:"CVC v3 count",column:"right",tooltip:"Concurrent Viewer Count v3. ",target:"_blank",href:"https://our.intern.facebook.com/intern/video/cvc?id="+this.props.videoID,children:this.props.cvcV3Count}),i.jsx("br",{}),i.jsxs("ul",{children:[i.jsx(b("VideoDebugFlag.react"),{label:"HD",active:this.props.isHD,available:this.props.hasHD,tooltip:"High Definition. Indicates if the video has an HD stream and if it is playing."}),i.jsx(b("VideoDebugFlag.react"),{label:"Live",active:this.props.isLiveStream,tooltip:"Indicates if this is a Live stream."}),i.jsx(b("VideoDebugFlag.react"),{label:"CVC Poller",active:this.props.isPolling,available:this.props.isLiveStream,tooltip:"Concurrent Viewer Count Poller. Indicates if a poll request was sent recently. This should blink at a ~3 sec inteval."}),i.jsx(b("VideoDebugFlag.react"),{label:"RL",active:this.props.isRateLimited,available:this.props.hasRateLimit,tooltip:"Rate Limit. Indicates if the server is rate limiting the video stream."}),i.jsx(b("VideoDebugFlag.react"),{label:"ST",active:this.props.hasSubtitles,tooltip:"Subtitles. Indicates if the video has subtitles."}),i.jsx(b("VideoDebugFlag.react"),{label:"SA",active:this.props.hasSpatialAudio,tooltip:"Spatial Audio. Indicates if the video has spatial audio."}),i.jsx(b("VideoDebugFlag.react"),{label:"Akamai",active:this.props.isAkamai,tooltip:"Akamai. Indicates if the video is being served from Akamai."}),i.jsx(b("VideoDebugFlag.react"),{label:"DRM",active:this.props.isDrm,tooltip:"DRM. Indicates if this video is protected by DRM"}),p]}),c,s,i.jsx(b("VideoDebugItem.react"),{label:"Playhead",tooltip:d,children:this.$2(e)}),i.jsx(b("VideoDebugItem.react"),{label:"Bandwidth Estimate (Kbps)",tooltip:"The current bandwidth estimate",children:j(this.props.bandwidthEstimate)}),i.jsx(b("VideoDebugDashManifestView.react"),{getSourceBufferHealth:this.props.getSourceBufferHealth,playbackPosition:e,segmentInitSourceMap:this.props.segmentInitSourceMap,segmentStates:this.props.segmentStates,segmentArrays:this.props.segmentArrays,timelineEvents:this.props.timelineEvents,timelineRanges:this.props.timelineRanges,getSegmentClass:this.props.getSegmentClass,bitrate:this.props.bitrate}),f,k,m,q,r,n,o]})};return c}(i.Component);e.exports=a}),null);
__d("VideoDebugOverlay",["cx","CSS","DebugOverlayBitrate","KeyboardShortcuts","MosUtils","ReactDOM","SubscriptionsHandler","URI","UserAgent","VideoDebugHistory","VideoDebugOverlay.react","cancelAnimationFrame","clearTimeout","exposeVideoDebug","getActiveElement","react","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f,g){var h,i,j=b("MosUtils").getMosValue,k=h||(h=b("react")),l=0,m=1,n=2,o=["SegmentUnknown","SegmentFetching","SegmentFetched","SegmentFailed","SegmentAppended"],p=["_2io2","_19ur","_19us","_19ut","_37la"];a=function(){"use strict";function a(c,d,e){var f=this;this.$12=function(a){a!=="DebugOverlay"&&f.setHidden(!0)};this.inFocusAndAltKey=function(a,c){var d=b("UserAgent").isPlatform("Mac OS X");d=a.altKey&&(d||a.shiftKey);if(!d||c!=="onkeydown"||a.ctrlKey||a.metaKey)return!1;d=f.$4;c=b("getActiveElement")();return c.contains(d)||d.contains(c)};this.toggleMute=function(a){a=f.$16;a.isMuted()?a.unmute():a.mute()};this.togglePause=function(a){a=f.$16;a.isState("playing")?a.pause("user_initiated"):a.play("user_initiated")};this.onExpose=function(a){b("exposeVideoDebug")(f.getProps(),!!a.shiftKey)};this.onFreeze=function(a){if(f.$11)return f.resume();else return f.freeze()};this.onHistoryRew=function(a){return a.shiftKey?f["goto"](-Infinity):f.prev()};this.onHistoryFwd=function(a){if(a.shiftKey){f["goto"](Infinity);return f.resume()}return f.next()};this.onLivePoll=function(){f.$21&&b("clearTimeout")(f.$21),f.$21=b("setTimeout")(function(){f.$21=null},1e3)};this.onUnifiedCVCUpdate=function(a){f.$7.cvcV3Count=a.c};this.onDashPlayerDebug=function(a){var b=a.type;a=a.event;var c=null;switch(b){case"MPDFetchDuration":var d=a;f.$7.lastMpdFetchDuration=d;c={lastMpdFetchDuration:d};break;case"InitialSegmentIndexes":c=f.onSegmentIndexes(a,!0);f.$3=f.$16.getVideoTracks()||[];break;case"SegmentIndexesUpdated":c=f.onSegmentIndexes(a,!1);break;case"SegmentInitSources":f.onSegmentInitSources(a);break;case"SegmentFetching":case"SegmentFetched":case"SegmentFailed":case"SegmentAppended":c=f.onSegmentEvent(b,a);break;case"streamInterruptAt":case"commercialBreakAt":case"endedAt":f.addTimelineMark(b,a);break;case"streamResumedAt":f.removeTimelineMark("streamInterruptAt",a);break;case"P2PStats":f.onP2PStats(a);break;case"P2PTech":f.onP2PTech(a);break;default:return}c&&f.record(b,c)};this.onVpcLogEvent=function(a){f.$7.lastLogEvent=a,f.$7.getLogEventsUntil=f.$6.reconstructors.lastLogEvent.getAllUntil,f.record(a.event,{lastLogEvent:a})};this.getSourceBufferHealth=function(){f.$13[m]=f.$16.getVideoNode();return f.$13.map(f.$23)};this.$23=function(a,b){var c=[];if(!a)return c;var d;try{a=a.buffered,d=a.length}catch(a){return c}for(var e=0;e<d;e++)c.push({gap:!1,startTime:a.start(e),endTime:a.end(e)});for(var a=1;a<d;a++){e={gap:!0,startTime:c[a-1].endTime,endTime:c[a].startTime};c.push(e);f.$14[b][e.startTime]=e}return c};this.toggleHidden=function(){return f.setHidden(!f.getHidden())};this.getHidden=function(){return f.$25};this.setHidden=function(a){f.$25=a,f.$25?f.stopAnimating():(f.$16&&f.$16.showDebugOverlayView("DebugOverlay"),f.startAnimating()),b("CSS").conditionClass(f.$4,"hidden_elem",f.$25)};this.getDebug=function(){return{VideoPlayerController:f.$16,VideoDebugOverlay:f.vdo,VideoDebugParent:f,VideoBufferGaps:f.$14[l],ComboBufferGaps:f.$14[m],AudioBufferGaps:f.$14[n]}};this.getProps=function(){var c=f.$16;if(!c)return null;var d=c.getVideoResolution(),e=d.height;d=d.width;var g=c.getDebugInfo(),h=g.currentVideo;g=g.player;var i=g.dimensions,j=b("DebugOverlayBitrate").computeBitrate(c.getCurrentTimePosition(),f.$7.segmentArrays,f.$2);j=j.bitrate;return Object.assign({},f.$7,{bandwidthEstimate:c.getBandwidthEstimate(),videoID:c.getVideoID(),playbackPosition:c.getCurrentTimePosition(),playbackDuration:c.getPlaybackDuration(),isSpherical:c.isSpherical(),streamType:h.streamType,projection:h.projection,isLiveStream:h.isLiveStream,isHD:h.isHD,hasHD:h.hasHD,tagSD:h.tagSD,tagHD:h.tagHD,hasSubtitles:h.hasSubtitles,isRateLimited:h.isRateLimited,hasRateLimit:h.hasRateLimit,liveManifestUrl:h.liveManifestUrl,isAkamai:h.liveManifestUrl&&h.liveManifestUrl.includes("akamaihd"),streamId:h.streamId,audioStreamId:h.audioStreamId,videoHeight:e,videoWidth:d,isDrm:h.isDrm,mosValue:h&&i?f.getActiveMosValue(h.streamId,i.width,i.height):null,hasSpatialAudio:c.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio"),dashAudioFormat:h.dashAudioFormat,initializationTime:g.initializationTime,initializationTimestamp:g.initializationTimestamp,playerVersion:g.version,stallCount:g.stallCount,stallTime:g.stallTime,inPlayStallCount:g.inPlayStallCount,inPlayStallTime:g.inPlayStallTime,interruptCount:g.interruptCount,interruptTime:g.interruptTime,loggedError:g.loggedError,lastError:g.lastError,droppedFrames:g.droppedFrames,totalFrames:g.totalFrames,viewabilityPercentage:g.viewabilityPercentage,getDebug:f.getDebug,playerState:f.$20(),isPolling:!!f.$21,getSegmentClass:a.getSegmentClass,bitrate:j})};this.$26=function(a){f.vdo=a};this.$4=c;this.$5=d;this.$6=new(b("VideoDebugHistory"))(this.getProps);this.$7=this.$8();this.$9();this.$10=null;this.$11=!1;this.setHidden(e.hidden);this.$1=e.timeBetweenRender;this.$2=0}var c=a.prototype;c.$9=function(){this.$13=[null,null,null],this.$14=[{},{},{}]};c.$8=function(){var a=this.$5,b=a.autoplayReason,c=a.autoplayReasonReadable,d=a.fblsHost,e=a.fblsTier,f=a.isShadow,g=a.shadowExperimentName;a=a.inputStreamId;return{autoplayReason:b,autoplayReasonReadable:c,lastMpdFetchDuration:null,prevMpdChangesTime:null,lastMpdChangesTime:Date.now(),mpdUpdatePollCount:0,segmentStates:{},segmentInitSourceMap:null,timelineEvents:[],timelineRanges:[],getSourceBufferHealth:this.getSourceBufferHealth,getLogEventsUntil:function(){return[]},yaw:0,pitch:0,lastRTT:null,fblsHost:d,fblsTier:e,isShadow:f,shadowExperimentName:g,inputStreamId:a,cvcV3Count:"-",p2pStats:null,p2pTech:null}};c.disable=function(){this.setHidden(!0),this.$15.release(),this.$16.unregisterOption("DebugOverlay","hidden")};c.enable=function(a){var c,d=this;this.$16=a;this.$3=[];this.$15=new(b("SubscriptionsHandler"))();(c=this.$15).addSubscriptions.apply(c,[a.addListener("showDebugOverlay",this.$12),a.addListener("VideoWithLiveBroadcast/poll",this.onLivePoll),a.addListener("unifiedCVC/update",this.onUnifiedCVCUpdate),a.addListener("debug/dashPlayerEvent",this.onDashPlayerDebug),a.addListener("debug/vpcLogEvent",this.onVpcLogEvent),a.addListener("streamInterrupted",function(){d.$17("interrupted")}),a.addListener("streamResumed",function(){d.$17(null)}),a.addListener("buffering",function(){d.$17("buffering")}),a.addListener("buffered",function(){d.$17(null)}),a.addListener("abortedLoading",function(){d.$17("aborted")}),a.addListener("restoringAfterAbort",function(){d.$17("restoring"),d.$7=d.$8(),d.$9()}),a.addListener("restoredAfterAbort",function(){d.$17(null)}),a.addListener("bufferingChanged",function(){var b=a.getDebugInfo();b=b.player;b={stallTime:b.stallTime};var c={playbackPosition:a.getCurrentTimePosition()};d.$6.record(b,c,"bufferingChanged")}),a.addListener("viewportChange",function(a,b){d.$7.yaw=a,d.$7.pitch=b})].concat(this.registerKeys({d:this.toggleHidden,e:this.onExpose,f:this.onFreeze,m:this.toggleMute,p:this.togglePause,LEFT:this.onHistoryRew,RIGHT:this.onHistoryFwd})));a.registerOption("DebugOverlay","hidden",this.getHidden,this.setHidden);this.$18(a.getVideoID())&&this.setHidden(!1)};c.registerKeys=function(a){var c=[],d={baseFilters:[this.inFocusAndAltKey],allowDefault:!0};for(var e in a)c.push(b("KeyboardShortcuts").register(e,a[e],d));return c};c.$18=function(a){var c=(i||(i=b("URI"))).getRequestURI().getQueryData();c=c.vid;switch(c){case void 0:return!1;case null:return!0;default:return c.split(/\D+/g).indexOf(a)!==-1}};c.$17=function(a){this.$19=a};c.$20=function(){var a=this.$16.getState();this.$19&&(a+=" ("+this.$19+")");return a};c.addTimelineMark=function(a,b){a={type:a,time:b};this.removeTimelineMark(a);var c=this.$7.timelineEvents;c.push(a);return b};c.removeTimelineMark=function(a,b){var c=this.$7.timelineEvents;for(var d=0;d<c.length;d++){var e=c[d];if(e.type===a&&e.time===b){c.splice(d,1);return!0}}return!1};c.record=function(a,b,c){var d=this.$16;c=c||{};b=b||{};this.$6.record(b,Object.assign(c,this.$7,{playerState:this.$20(),playbackPosition:d.getCurrentTimePosition(),getSourceBufferHealth:this.getSourceBufferHealth}),a)};a.getSegmentId=function(a,b){return b+(a.unscaledStartTime||a.startTime)};a.getSegmentClass=function(b,c,d){c=a.getSegmentId(c,d);return p[b[c]||0]};c.onSegmentEvent=function(b,c){var d=c.type,e=c.sourceBuffer;c=c.segment;c=this.$22(c);var f=c;f=f.url;c=a.getSegmentId(c,d);var g=o.indexOf(b);this.$7.segmentStates[c]=g;b==="SegmentFetched"&&f.getResourceTimingEntry()&&(this.$7.lastRTT=f.getResourceTimingEntry().timeToFirstByte);switch(d){case"v":this.$13[l]=e;break;case"a":this.$13[n]=e;break}return{segmentStates:[c,g]}};c.onP2PStats=function(a){this.$7.p2pStats=a};c.onP2PTech=function(a){this.$7.p2pTech=a};c.onSegmentIndexes=function(a,b){var c=this;b=b||a.some(function(a){return a.lastPollHadChanges&&a.lastPollHadChanges()});a=a.map(function(a){a=a.getSegments?a.getSegments():c.$24(a);return a.map(function(a){return c.$22(a)})});if(b){b=this.$7.lastMpdChangesTime;this.$7.prevMpdChangesTime=b;this.$7.lastMpdChangesTime=Date.now();this.$7.mpdUpdatePollCount=0}else this.$7.mpdUpdatePollCount+=1;this.$7.segmentArrays=a;b=a.map(function(a){return a[a.length-1]}).filter(function(a){return a}).map(function(a){a=a.endTime;return a});b.length&&(this.$7.liveheadPosition=Math.min.apply(Math,b));b=this.$7.mpdUpdatePollCount;return{segmentArrays:a,mpdUpdatePollCount:b}};c.$24=function(a){var b=[],c=0,d=a.getSegment(c);while(d)b.push(d),++c,d=a.getSegment(c);return b};c.onSegmentInitSources=function(a){this.$7.segmentInitSourceMap=new Map(a.map(function(a){var c=a.getFailoverUri();c=new(i||(i=b("URI")))(c.toString());return[c.getPath(),a]}))};c.isHidden=function(){return this.$25};c.startAnimating=function(){var a=this;if(this.$10)return;var c=function c(){a.renderOverlay(),a.$1?a.$10=b("setTimeout")(c,a.$1):a.$10=b("requestAnimationFrame")(c)};c()};c.stopAnimating=function(){var a=this.$10;this.$10&&(this.$1?b("clearTimeout")(this.$10):b("cancelAnimationFrame")(this.$10),this.$10=null);return a};c.prev=function(){this.freeze(),this.$6.prev()};c.next=function(){this.freeze();var a=this.$6.next();isFinite(a)||this.resume()};c["goto"]=function(a){this.freeze(),this.$6["goto"](a)};c.freeze=function(){this.$11||(this.$6.freezeProps(),this.$11=!0)};c.resume=function(){this.$11=!1};c.getPropsToRender=function(){return this.$11?this.$6.getProps():this.getProps()};c.getActiveMosValue=function(a,b,c){var d=this.$3.find(function(b){return b.streamInfoID===a});return d&&d.playbackResolutionMos?j(d.playbackResolutionMos,b,c):null};c.renderOverlay=function(){var a=!this.$25&&this.getPropsToRender();a&&b("ReactDOM").render(k.jsx(b("VideoDebugOverlay.react"),babelHelpers["extends"]({ref:this.$26},a)),this.$4)};c.$22=function(a){if(a.getTimeRange){var b=a.getTimeRange();return{startTime:b.startTime,endTime:b.endTime,url:a.getURI(),debugInfo:null}}return a};return a}();e.exports=a}),null);
__d("VideoComponentDebugOverlay.react",["cx","ReactDOM","VideoComponent","VideoDebugOverlay","VideoPlayerShakaGlobalConfig","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.enable=function(a){this.debugOverlay=new(c("VideoDebugOverlay"))(d("ReactDOM").findDOMNode(this.refs.videoDebugOverlay),{autoplayReason:this.props.autoplayReason,autoplayReasonReadable:"?"},{hidden:!0}),this.debugOverlay.enable(a)};e.disable=function(){this.debugOverlay.setHidden(!0),this.debugOverlay.disable()};e.render=function(){return i.jsx("div",{ref:"videoDebugOverlay",className:"_5m64 _1jto _3htz hidden_elem"})};return b}(i.Component);b=d("VideoComponent").createContainer(a,{suppressMount:function(){return!d("VideoPlayerShakaGlobalConfig").getBool("enable_video_debug",!1)}});g["default"]=b}),98);