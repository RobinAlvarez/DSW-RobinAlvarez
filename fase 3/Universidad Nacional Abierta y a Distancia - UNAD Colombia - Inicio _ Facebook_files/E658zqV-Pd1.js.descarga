if (self.CavalryLogger) { CavalryLogger.start_js(["bqJdXL6"]); }

__d("UFIVideoPlayerRegistry",["EventEmitter","ViewportBounds","destroyOnUnload","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Set(),m=new Map();b("destroyOnUnload")(function(){g.removeAllListeners(),h.clear(),i.clear(),j.clear(),k.clear(),l.clear()});function n(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function o(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f){if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}f===c.length-1&&((d===null||f>d)&&(d=f,a=b))}});return a}function p(a,b){var c=n(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=n(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}var q={registerVideoPlayerController:function(a){var b=a.getVideoID(),c=k.get(b);c?c.push(a):(c=[a],k.set(b,c),j["delete"](b));l.forEach(function(a){return a()});a=h.get(b);if(!a)return;a.forEach(function(a){return q._associateUFIController(a,b)})},addOnRegisterListener:function(a){l.add(a)},removeOnRegisterListener:function(a){l["delete"](a)},getAvailableVideoPlayerController:function(a){return i.get(a)},seekAvailableVideoPlayerController:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;["ready","playing","paused","finished"].includes(a.getState())&&(a.pause("seek_initiated"),a.seek(b),a.play("seek_initiated"))},scrollToAvailableVideo:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return;a=b("ViewportBounds").getElementPosition(a.getRootNode());window.scroll(0,a.y)},setAvailableVideoPlayerControllerSphericalViewport:function(a,b){a=q.getAvailableVideoPlayerController(a);if(!a)return;a.emit("SphericalVideoViewportTagComment/click",b)},getAvailableVideoPlayerControllerForElement:function(a,c){if(!a)return null;var d=j.get(c)||new Map(),e=b("getOrCreateDOMID")(a);a=d.get(e)||q.findVideoPlayerControllerForElement(a,c);d.set(e,a);j.set(c,d);return a},getAvailableVideoPlayerControllerTimeForElement:function(a,b){if(!a)return null;a=q.getAvailableVideoPlayerControllerForElement(a,b);if(!a)return null;b=a.getCurrentTimePosition();return b>=0?Math.floor(b):null},getAvailableVideoPlayerControllerTime:function(a){a=q.getAvailableVideoPlayerController(a);if(!a)return null;a=a.getCurrentTimePosition();return a>=0?Math.floor(a):null},registerUFIController:function(a,b,c){var d=a.getInstanceID(),e=a.getFluentContentToken();if(!e)return;var f=h.get(e);f?f.push(a):(f=[a],h.set(e,f));g.addListener(d+"/register",b);g.addListener(d+"/unregister",c);q._associateUFIController(a,e)},getAvailableUFIController:function(a){var b=m.get(a);if(b)return b;var c=h.get(a.getVideoID());if(!c)return null;c.length===1?b=c[0]:b=p(a.getRootNode(),c.map(function(a){return[a.getRootNode(),a]}));if(b){c=q.findVideoPlayerControllerForElement(b.getRootNode(),a.getVideoID());if(c!==a)return null;m.set(a,b)}return b},findVideoPlayerControllerForElement:function(a,b){b=k.get(b);if(!b)return null;if(b.length===1)return b[0];return!a?null:o(a,b.filter(function(a){return!a.isState("destroyed")}).map(function(a){return[a.getRootNode(),a]}))},unregisterVideoPlayerControllerForElement:function(a,b){var c=k.get(b);if(!c)return;var d=q.findVideoPlayerControllerForElement(a,b);if(d==null)return;a=c.findIndex(function(a){return a.getRootNode()===d.getRootNode()});c.splice(a,1);k.set(b,c)},_associateUFIController:function(a,c){var d=a.getInstanceID();a=q.findVideoPlayerControllerForElement(a.getRootNode(),c);if(!a||a.isState("destroyed"))return;c=i.get(d);if(c){if(!c.isState("destroyed")&&b("getOrCreateDOMID")(c.getRootNode())===b("getOrCreateDOMID")(a.getRootNode()))return;g.emit(d+"/unregister")}i.set(d,a);g.emit(d+"/register",a)}};e.exports=q}),null);
__d("TooltipMixinClass.react",["DOM","ReactDOM","TooltipData","react"],(function(a,b,c,d,e,f,g){var h=d("react");function i(a){a=a.tooltip;return a!=null&&h.isValidElement(a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={tooltipContainer:i(d.props)?c("DOM").create("div"):null},b)||babelHelpers.assertThisInitialized(d)}b.getDerivedStateFromProps=function(a,b){a=i(a);b=b.tooltipContainer;if(b&&!a)return{tooltipContainer:null};else if(!b&&a)return{tooltipContainer:c("DOM").create("div")};return null};var e=b.prototype;e.componentDidMount=function(){this.$1()};e.componentDidUpdate=function(a,b){b.tooltipContainer&&!this.state.tooltipContainer&&this.$2(b.tooltipContainer),this.$1()};e.$1=function(){var a=this.state.tooltipContainer,b=this.props.tooltip;if(b!=null&&h.isValidElement(b)&&a!=null){var c=function(){return b};d("ReactDOM").render(h.jsx(c,{}),a)}else a=this.props.tooltip;a!=null?d("TooltipData").set(d("ReactDOM").findDOMNode(this),a,this.props.position,this.props.alignH):d("TooltipData").remove(d("ReactDOM").findDOMNode(this))};e.componentWillUnmount=function(){this.state.tooltipContainer&&this.$2(this.state.tooltipContainer),d("TooltipData").remove(d("ReactDOM").findDOMNode(this))};e.$2=function(a){d("ReactDOM").unmountComponentAtNode(a)};return b}(h.Component);g["default"]=a}),98);
__d("TooltipLink.react",["TooltipMixinClass.react","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("a",babelHelpers["extends"]({},this.props,{children:this.props.children}))};return b}(c("TooltipMixinClass.react"));g["default"]=a}),98);
__d("PopoverMenu.react",["cx","CSS","InlineBlock.react","Popover","PopoverMenu","ReactDOM","SubscriptionsHandler","areEqual","clearImmediate","joinClasses","prop-types","react","setImmediate"],(function(a,b,c,d,e,f,g,h){var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=null,c.$7=function(){c.$3&&(c.$3.release(),c.$3=null),c.$8(),c.$2.setMenu(c.$5(c.props.menu)),c.$6()},b)||babelHelpers.assertThisInitialized(c)}b.getFirstChild=function(a){a=a.children;return Array.isArray(a)?a[0]:a};b.getButtonSize=function(a){a=b.getFirstChild(a);return a!=null&&a.props.size!=null?a.props.size:"medium"};var e=b.prototype;e.componentDidMount=function(){var a=d("ReactDOM").findDOMNode(this.refs.root),b=a==null?void 0:a.firstChild;b!=null&&(d("CSS").addClass(b,"_p"),this.$1=new(c("Popover"))(a,b,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter,"data-testid":this.props["data-testid"],shouldDisableHideOnScroll:this.props.shouldDisableHideOnScroll}),this.$2=new(c("PopoverMenu"))(this.$1,b,this.$5(this.props.menu),this.props.behaviors));this.$6()};e.componentDidUpdate=function(a){c("areEqual")(a.menu,this.props.menu)||(c("clearImmediate")(this.$4),this.$4=c("setImmediate")(this.$7));this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh);this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable());if(this.props.position!==a.position){a=this.$1.getLayer();a.setPosition(this.props.position)}};e.$6=function(){this.props.onReturnWithoutFocusedItem&&this.$3&&this.$2&&this.$3.addSubscriptions(this.$2.subscribe("returnWithoutFocusedItem",this.props.onReturnWithoutFocusedItem))};e.render=function(){var a=i.Children.map(this.props.children,function(a,b){if(b===0)return i.cloneElement(a,{className:c("joinClasses")(a.props.className,"_p")});else return a}),b=Object.assign({},this.props);delete b.onShow;delete b.onHide;delete b.alignh;delete b.position;delete b.layerBehaviors;delete b.behaviors;delete b.menu;delete b.disabled;delete b.disableArrowKeyActivation;delete b.enableActivationOnEnter;delete b.shouldDisableHideOnScroll;return i.jsx(c("InlineBlock.react"),babelHelpers["extends"]({},b,{className:c("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null,children:a}))};e.componentWillUnmount=function(){c("clearImmediate")(this.$4),this.hidePopover(),this.$3&&(this.$3.release(),this.$3=null),this.$2&&this.$2.destroy()};e.$5=function(a){var b=a.props;a=new a.type(b);this.$3=new(c("SubscriptionsHandler"))();b.onItemClick&&this.$3.addSubscriptions(a.subscribe("itemclick",b.onItemClick));b.onItemFocus&&this.$3.addSubscriptions(a.subscribe("focus",b.onItemFocus));b.onItemBlur&&this.$3.addSubscriptions(a.subscribe("blur",b.onItemBlur));b.onChange&&this.$3.addSubscriptions(a.subscribe("change",b.onChange));this.props.onShow&&this.$3.addSubscriptions(this.$1.subscribe("show",this.props.onShow));this.props.onHide&&this.$3.addSubscriptions(this.$1.subscribe("hide",this.props.onHide));return a};e.getMenu=function(){return this.$2.getMenu()};e.isShown=function(){return!!(this.$1&&this.$1.isShown())};e.showPopover=function(a){this.$1.showLayer();if(a){var b=this.$2.getMenu();b.blur();b.focusAnItem(a)}};e.hidePopover=function(){var a=this.$1;a&&a.isShown()&&a.hideLayer()};e.getFocusedItem=function(){var a=this.$2.getMenu();return a.getFocusedItem()};e.$8=function(){var a=this.getMenu();a&&a.forEachItem(function(a){a=a.getRoot().firstElementChild;a&&d("ReactDOM").unmountComponentAtNode(a)})};return b}(i.Component);a.propTypes={alignh:c("prop-types").oneOf(["left","center","right"]),alignv:c("prop-types").oneOf(["baseline","bottom","middle","top"]),position:c("prop-types").oneOf(["above","below","left","right"]),layerBehaviors:c("prop-types").array,menu:c("prop-types").object.isRequired,disabled:c("prop-types").bool,disableArrowKeyActivation:c("prop-types").bool,enableActivationOnEnter:c("prop-types").bool,onReturnWithoutFocusedItem:c("prop-types").func,shouldDisableHideOnScroll:c("prop-types").bool};a.defaultProps={alignv:"middle",shouldDisableHideOnScroll:!1};g["default"]=a}),98);
__d("UFIReactionsAnimatedKeyframesIcon.react",["Keyframes.react","UFIReactionTypes","UFIReactionsKeyframesAssets","react"],(function(a,b,c,d,e,f,g){var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.supportsReaction=function(a){return!!c("UFIReactionsKeyframesAssets").reactions[a]};var d=b.prototype;d.render=function(){var a=this.props,b=a.animate,d=a.className,e=a.maxSize;a=a.reactionID;var f=c("UFIReactionsKeyframesAssets").initialProgress[a]||0,g=c("UFIReactionsKeyframesAssets").reactions[a];return g?h.jsx(c("Keyframes.react"),{projectName:"feedback_reactions",assetName:c("UFIReactionTypes").reactions[a].name,className:d,source:g,width:e,height:e,playing:b,initialProgress:f,resetOnPause:!0}):h.jsx("div",{style:{width:e,height:e}})};return b}(h.PureComponent);g["default"]=a}),98);
__d("RelayFBNetwork",["RelayFBResponseCache","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction"],(function(a,b,c,d,e,f){"use strict";e.exports=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({queryResponseCache:b("RelayFBResponseCache")}),b("createRelayFBSubscribeFunction")({queryResponseCache:b("RelayFBResponseCache")}))}),null);
__d("fetchStaticQuery",["RelayRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").__internal.getOperationVariables,h=b("RelayRuntime").getRequest;function a(a,b,c,d){b=h(b);c=g(b.operation,c);return a.execute(b.params,c,d||{}).toPromise()}e.exports=a}),null);
__d("VideoComponent",["CurrentUser","ErrorBoundary.react","RelayFBNetwork","SubscriptionsHandler","fetchStaticQuery","react","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return a.displayName||a.name||"Component"}function a(a,b){var d,e=b||{},f=e.observedVpcEvents||[],g=e.suppressMount||function(){return!1},j=i(a);return d=b=function(b){babelHelpers.inheritsLoose(d,b);function d(a){var c;c=b.call(this,a)||this;c.$7=function(){if(c.$2&&c.$2.length&&c.refs.component){var a={time:Date.now(),queuedEvents:c.$2};c.setState({vpcEventInfo:a});c.$2=[]}};c.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}};c.$2=[];return c}var i=d.prototype;i.render=function(){return this.$3()?null:h.jsx(c("ErrorBoundary.react"),{onError:function(a,b){},children:h.jsx(a,babelHelpers["extends"]({ref:"component"},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user}))})};i.enable=function(a){if(this.$3())return;this.vpc=a;this.$1=new(c("SubscriptionsHandler"))();this.$4(a);var b=this.refs.component;if(!b)return;if(!b.enable)throw new TypeError(j+" must implement enable(VideoPlayerController)");b.enable(a);this.$5(a.getVideoID(),e.videoGraphQLQuery)};i.disable=function(){if(this.$3())return;var a=this.refs.component;if(!a)return;if(!a.disable)throw new TypeError(j+" must implement disable()");a.disable();this.$1&&this.$1.release()};i.$3=function(){return g(this.props.videoData)};i.$5=function(a,b){var d=this;if(!a||!b)return;c("fetchStaticQuery")(c("RelayFBNetwork"),b,{videoID:a,userID:c("CurrentUser").getID()},{force:!0}).then(function(a){a=a.data;var b=a.video;a=a.user;d.vpc&&b&&d.refs.component&&b.id==d.vpc.getVideoID()&&d.setState({video:b});a&&d.refs.component&&d.setState({user:a})})};i.$4=function(a){var b=this,c=function(){if(e){if(g>=d.length)return"break";h=d[g++]}else{g=d.next();if(g.done)return"break";h=g.value}var c=h,f=a.addListener(c,function(){return b.$6(c)});b.$1.addSubscriptions(f)};for(var d=f,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=c();if(i==="break")break}};i.$6=function(a){this.$2.length||c("setImmediate")(this.$7),this.$2.push(a)};return d}(h.Component),b.displayName="VideoComponent("+j+")",d}g.createContainer=a}),98);