if (self.CavalryLogger) { CavalryLogger.start_js(["LEXPUCs"]); }

__d("FantaConst",[],(function(a,b,c,d,e,f){"use strict";b=2;c=10;var g={PERSONAL_COOKIE_ID:"t3",PERSONAL_FOCUS_COOKIE_ID:"lm3",PERSONAL_TIME_COOKIE_ID:"utc3",WORK_COOKIE_ID:"t3w",WORK_FOCUS_COOKIE_ID:"lm3w",WORK_TIME_COOKIE_ID:"utc3w"};function a(){return[g.PERSONAL_COOKIE_ID,g.PERSONAL_FOCUS_COOKIE_ID,g.PERSONAL_TIME_COOKIE_ID,g.WORK_COOKIE_ID,g.WORK_FOCUS_COOKIE_ID,g.WORK_TIME_COOKIE_ID]}f.DEFAULT_ALLOWED_RAISED_TABS=b;f.DEFAULT_MESSAGE_COUNT=c;f.cookieIDs=g;f.getCookieIDs=a}),66);
__d("PresenceState",["ErrorUtils","FantaConst","PresenceCookieManager","PresenceInitialData","debounceAcrossTransitions","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=c("PresenceInitialData").cookiePollInterval||2e3,i=c("PresenceInitialData").shouldSuppress||!1,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=["sb2","tr","tw","at","wml"].concat(d("FantaConst").getCookieIDs());function r(){return d("PresenceCookieManager").getSubCookie("state")}function s(){n=Date.now(),d("PresenceCookieManager").store(),w(m)}var t=c("debounceAcrossTransitions")(s,0);function u(a){(a==void 0||isNaN(a)||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)&&(a=0);return a}function v(a){var b={};a&&q.forEach(function(c){a&&a[c]&&(b[c]=a[c])});b.ut=n;for(var d=0,e=j.length;d<e;d++)c("ErrorUtils").applyWithGuard(j[d],null,[b]);m=b;return m}function w(a){p++;n=u(a&&a.ut);l||(l=c("setIntervalAcrossTransitions")(z,h));m=a;o===null&&(o=a);for(var b=0,d=k.length;b<d;b++)c("ErrorUtils").applyWithGuard(k[b],null,[a]);p--}function x(a){return a&&a.ut&&n<a.ut?!0:!1}function y(){var a=r();x(a)&&(m=a);return m}function z(){var a=r();x(a)&&w(a)}d("PresenceCookieManager").register("state",v);(function(){var a=y();if(a)w(a);else{w(v());return}})();function a(a){if(p)return;a?s():t()}function b(a){j.push(a)}function e(a){k.push(a)}function f(){return y()}function A(){return o}function B(){return i}g.verifyNumber=u;g.doSync=a;g.registerStateStorer=b;g.registerStateLoader=e;g.get=f;g.getInitial=A;g.shouldSuppress=B}),98);
__d("SimpleFBAuthenticatedXHRRequest",["invariant","CurrentUser","DTSG","DTSGUtils","ServerJSDefine","SprinkleConfig","StaticSiteData","XHRRequest","isFacebookURI","uniqueRequestID"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;c=a.call(this,c)||this;e=(e={},e[b("StaticSiteData").jsmod_key]=b("ServerJSDefine").getLoadedModuleHash(),e.__req=b("uniqueRequestID")(),e.__a=1,e.__user=b("CurrentUser").getID(),e);a.prototype.setData.call(babelHelpers.assertThisInitialized(c),babelHelpers["extends"]({},d,e));return c}var d=c.prototype;d.send=function(){var c=this;if(!b("isFacebookURI")(this.getURI()))return a.prototype.send.call(this);if(b("DTSG").getCachedToken){var d=b("DTSG").getCachedToken();if(d)return this.sendOnDTSGToken(d);else{b("DTSG").getToken().done(function(a){return c.sendOnDTSGToken(a)});return this}}else this.sendOnDTSGToken(b("DTSG").getToken())};d.sendOnDTSGToken=function(c){if(c){a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),{fb_dtsg:c}));if(b("SprinkleConfig").param_name){var d;a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),(d={},d[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(c),d)))}}return a.prototype.send.call(this)};d.setData=function(a){g(0,5518)};c.parseResponse=function(a){return JSON.parse(a.substr(9))};c.getPayload=function(a){a=c.parseResponse(a).payload;return a.payload?a.payload:a};return c}(b("XHRRequest"));e.exports=a}),null);
__d("XFantailLogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/fantail/",{service:{type:"String",required:!0}})}),null);
__d("FantailLogQueue",["ChannelClientID","CircularBuffer","PHPQuerySerializer","SimpleFBAuthenticatedXHRRequest","XFantailLogController","destroyOnUnload","setIntervalAcrossTransitions","sprintf"],(function(a,b,c,d,e,f,g){var h={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};a=function(){function a(a){this.$2=a,this.$3=new(c("CircularBuffer"))(200),c("setIntervalAcrossTransitions")(this.$4.bind(this),30*1e3),c("destroyOnUnload")(this.$4.bind(this))}a.get=function(b){a.$1=a.$1||{};a.$1[b]=a.$1[b]||new a(b);return a.$1[b]};var b=a.prototype;b.debug=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.DEBUG,a].concat(c))};b.info=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.INFO,a].concat(c))};b.warn=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.WARN,a].concat(c))};b.error=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.ERROR,a].concat(c))};b.$5=function(a,b){for(var e=arguments.length,f=new Array(e>2?e-2:0),g=2;g<e;g++)f[g-2]=arguments[g];var h=c("sprintf").apply(void 0,[b].concat(f));this.$3.write({log_time:Date.now(),log:h,severity:a,device_id:d("ChannelClientID").getID()})};b.$4=function(){var a=this.$3.read();if(a.length>0){var b={log_time:[],log:[],severity:[],device_id:[]};a.forEach(function(a){b.log_time.push(a.log_time),b.log.push(a.log),b.severity.push(a.severity),b.device_id.push(a.device_id)});this.$3.clear();a=c("XFantailLogController").getURIBuilder().setString("service",this.$2).getURI();new(c("SimpleFBAuthenticatedXHRRequest"))(a,b).setMethod("POST").setDataSerializer(d("PHPQuerySerializer").serialize).setRequestHeader("Content-Type","application/x-www-form-urlencoded").send()}};return a}();g["default"]=a}),98);